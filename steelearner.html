<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Steelearner 2.0 - Molten Edition</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/vue@3/dist/vue.global.prod.js"></script>
    <script src="https://unpkg.com/@phosphor-icons/web"></script>
    <style>
        /* --- CORE VARIABLES --- */
        :root {
            --magma-orange: #ff4500;
            --steel-blue: #a0b0c0;
            --carbon-black: #080808;
            --panel-bg: rgba(20, 20, 25, 0.65);
        }

        body {
            background-color: var(--carbon-black);
            color: #e0e0e0;
            font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace; /* Industrial Font */
            -webkit-tap-highlight-color: transparent;
            overflow-x: hidden;
            perspective: 1000px;
        }

        /* --- DYNAMIC MOLTEN BACKGROUND --- */
        .bg-molten {
            position: fixed;
            inset: 0;
            z-index: -1;
            background: 
                /* Mesh Overlay */
                radial-gradient(transparent 0%, #000 100%),
                repeating-linear-gradient(0deg, transparent, transparent 1px, #000 1px, #000 2px),
                /* Heat Source */
                radial-gradient(circle at 50% 120%, rgba(255, 69, 0, 0.4), transparent 60%),
                linear-gradient(135deg, #0f0f0f 0%, #1a1a1a 50%, #050505 100%);
            background-size: 100% 100%, 100% 4px, 100% 100%, 400% 400%;
            animation: heat-pulse 8s ease-in-out infinite alternate;
        }

        /* Moving heat glow */
        @keyframes heat-pulse {
            0% { background-position: 0 0, 0 0, 50% 120%, 0% 50%; }
            100% { background-position: 0 0, 0 0, 50% 110%, 100% 50%; }
        }

        /* Scanline Overlay (Cool Tech Feel) */
        .scanlines {
            position: fixed;
            inset: 0;
            background: linear-gradient(rgba(18, 16, 16, 0) 50%, rgba(0, 0, 0, 0.25) 50%), linear-gradient(90deg, rgba(255, 0, 0, 0.06), rgba(0, 255, 0, 0.02), rgba(0, 0, 255, 0.06));
            background-size: 100% 2px, 3px 100%;
            z-index: 9999;
            pointer-events: none;
            opacity: 0.6;
        }

        /* --- 3D STEEL PLATE CARDS --- */
        .steel-plate {
            background: linear-gradient(145deg, rgba(40,40,45,0.9), rgba(20,20,22,0.95));
            border: 1px solid rgba(255,255,255,0.08);
            border-top: 1px solid rgba(255,255,255,0.2); /* Highlight */
            border-radius: 12px;
            backdrop-filter: blur(8px);
            
            /* Deep Industrial Shadow */
            box-shadow: 
                0 10px 20px -5px rgba(0,0,0,0.8),
                0 0 0 1px rgba(0,0,0,0.5),
                inset 0 1px 0 rgba(255,255,255,0.1);
            
            transform: translateZ(0);
            transition: all 0.2s cubic-bezier(0.25, 0.46, 0.45, 0.94);
            position: relative;
            overflow: hidden;
        }

        /* Hover Effect (Desktop) */
        @media (hover: hover) {
            .steel-plate:hover {
                transform: translateY(-4px) scale(1.02);
                border-color: rgba(255,255,255,0.3);
                box-shadow: 
                    0 15px 30px -5px rgba(0,0,0,0.9),
                    0 0 15px var(--glow-color, rgba(255,255,255,0.1));
            }
        }

        /* Active / Pressed (Heat Reaction) */
        .steel-plate:active {
            transform: translateY(2px) scale(0.98);
            background: linear-gradient(145deg, #1a1a1a, #0d0d0d);
            border-color: var(--magma-orange);
            box-shadow: 
                inset 0 0 15px rgba(255, 69, 0, 0.3),
                0 2px 5px rgba(0,0,0,1);
        }

        .steel-plate:active i {
            color: var(--magma-orange) !important;
            filter: drop-shadow(0 0 8px var(--magma-orange));
        }

        /* --- ANIMATED CORE SPINNER --- */
        .reactor-core {
            position: relative;
            width: 40px;
            height: 40px;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        .reactor-ring {
            position: absolute;
            width: 100%;
            height: 100%;
            border: 2px dashed #f97316;
            border-radius: 50%;
            animation: spin-reactor 10s linear infinite;
        }
        .reactor-center {
            animation: pulse-core 2s ease-in-out infinite;
        }
        @keyframes spin-reactor { 100% { transform: rotate(360deg); } }
        @keyframes pulse-core { 0%, 100% { opacity: 0.6; transform: scale(0.9); } 50% { opacity: 1; transform: scale(1.1); } }

        /* --- SPEAKING PULSE --- */
        .speaking-active {
            border-color: #f97316 !important;
            box-shadow: 0 0 20px rgba(249, 115, 22, 0.5), inset 0 0 20px rgba(249, 115, 22, 0.2) !important;
            transform: translateY(1px);
        }

        /* Scrollbar Hide */
        .no-scrollbar::-webkit-scrollbar { display: none; }
        .no-scrollbar { -ms-overflow-style: none; scrollbar-width: none; }

        /* Vue Transitions */
        .blast-enter-active, .blast-leave-active { transition: all 0.3s cubic-bezier(0.19, 1, 0.22, 1); }
        .blast-enter-from { opacity: 0; transform: scale(0.8) translateY(30px); filter: blur(4px); }
        .blast-leave-to { opacity: 0; transform: scale(1.1); filter: blur(4px); }
    </style>
</head>
<body class="min-h-screen flex flex-col">

    <div class="bg-molten"></div>
    <div class="scanlines"></div>

<div id="app" class="flex-1 flex flex-col max-w-md mx-auto w-full relative z-10">

    <header class="sticky top-0 z-50 bg-[#0a0a0a]/80 backdrop-blur-xl border-b border-gray-800 p-4 flex justify-between items-center shadow-lg">
        <div class="flex items-center gap-4" @click="goHome">
            <div class="reactor-core">
                <div class="reactor-ring"></div>
                <i class="ph-fill ph-hexagon text-orange-600 text-2xl reactor-center"></i>
            </div>
                                                <div>
                <h1 class="text-xl font-black tracking-tighter italic leading-none text-gray-100" style="text-shadow: 0 2px 4px rgba(0,0,0,0.8);">
                    STEELEARNER
                    <span class="inline-block align-middle text-[0.4rem] font-mono text-gray-600 border border-gray-800 rounded px-1 ml-1 not-italic tracking-normal opacity-50 uppercase translate-y-[-2px]">Private Use Only</span>
                                        <span class="text-[0.65rem] font-bold text-orange-500 not-italic block tracking-[0.2em] uppercase mt-1">Japanese Audio Flashcards</span>
                </h1>
            </div>
        </div>
        <button v-if="view !== 'home'" @click="goHome" class="steel-plate w-10 h-10 flex items-center justify-center text-gray-400 hover:text-white transition-colors">
            <i class="ph-bold ph-squares-four text-xl"></i>
        </button>
    </header>

    <main class="flex-1 p-4 overflow-y-auto no-scrollbar pb-24">

        <transition name="blast" mode="out-in">
            
                                                <div v-if="view === 'home'" class="grid grid-cols-2 gap-4 perspective-[800px]">
                <div v-for="cat in categories" :key="cat.id" @click="selectCategory(cat)"
                     class="steel-plate aspect-[1.1] flex flex-col items-center justify-center text-center p-3 cursor-pointer group" 
                     :style="{ '--glow-color': cat.glow }">
                    
                    <div class="absolute inset-0 opacity-20 bg-gradient-to-br from-transparent to-black rounded-lg"></div>
                    
                    <i :class="`${cat.icon} text-5xl mb-3 ${cat.color} drop-shadow-[0_4px_8px_rgba(0,0,0,0.8)] transition-all duration-300 group-hover:scale-110`"></i>
                    <h2 class="font-black text-lg tracking-wider text-gray-200 uppercase" style="text-shadow: 0 2px 4px #000;">{{ cat.label }}</h2>
                    <p class="text-[10px] text-gray-400 font-mono mt-1 uppercase tracking-widest opacity-70">{{ cat.desc }}</p>
                </div>
            </div>

                        <div v-else-if="view === 'sub_category'" class="space-y-5">
                <div class="flex items-center gap-4 mb-6 p-4 rounded-xl border border-dashed border-gray-700 bg-black/40 backdrop-blur-sm">
                    <div class="p-3 rounded-lg bg-[#151515] border border-gray-600 shadow-[inset_0_2px_4px_rgba(0,0,0,1)]">
                        <i class="ph-fill ph-airplane-tilt text-3xl text-emerald-400"></i>
                    </div>
                    <div>
                        <h2 class="text-2xl font-black uppercase tracking-tight text-white">TRAVEL</h2>
                        <div class="flex items-center gap-2">
                            <span class="w-2 h-2 rounded-full bg-emerald-500 animate-pulse"></span>
                            <p class="text-xs text-gray-400 font-mono tracking-widest">SELECT SCENE</p>
                        </div>
                    </div>
                </div>

                <div class="grid grid-cols-1 gap-3">
                    <div v-for="sub in travelSubCategories" :key="sub.id" @click="selectSubCategory(sub)"
                         class="steel-plate p-4 flex items-center gap-4 cursor-pointer hover:border-emerald-500/50 transition-all group">
                        <div class="w-10 h-10 rounded bg-emerald-900/20 flex items-center justify-center border border-emerald-500/30 group-hover:bg-emerald-500/20">
                            <i :class="`${sub.icon} text-xl text-emerald-400`"></i>
                        </div>
                        <div>
                            <h3 class="font-bold text-base text-gray-200">{{ sub.label }}</h3>
                            <p class="text-[9px] text-gray-500 font-mono uppercase tracking-wider">{{ sub.desc }}</p>
                        </div>
                        <i class="ph-bold ph-caret-right ml-auto text-gray-600 group-hover:text-emerald-400"></i>
                    </div>
                </div>
            </div>

            <div v-else-if="view === 'list'" class="space-y-5">
                
                <div class="flex items-center gap-4 mb-6 p-4 rounded-xl border border-dashed border-gray-700 bg-black/40 backdrop-blur-sm">
                    <div class="p-3 rounded-lg bg-[#151515] border border-gray-600 shadow-[inset_0_2px_4px_rgba(0,0,0,1)]">
                        <i :class="`${activeCategory.icon} text-3xl ${activeCategory.color}`"></i>
                    </div>
                    <div>
                        <h2 class="text-2xl font-black uppercase tracking-tight text-white">{{ activeCategory.label }}</h2>
                        <div class="flex items-center gap-2">
                            <span class="w-2 h-2 rounded-full bg-green-500 animate-pulse"></span>
                            <p class="text-xs text-gray-400 font-mono tracking-widest">SYSTEM ACTIVE</p>
                        </div>
                    </div>
                </div>

                <div class="relative group">
                    <i class="ph ph-magnifying-glass absolute left-4 top-1/2 -translate-y-1/2 text-gray-500 group-focus-within:text-orange-500 transition-colors"></i>
                    <input type="text" v-model="searchQuery" placeholder="ACCESS DATABASE..." 
                           class="w-full bg-[#080808] border border-gray-700 rounded-xl py-4 pl-12 pr-4 text-sm font-mono text-gray-200 shadow-[inset_2px_2px_8px_rgba(0,0,0,0.8)] focus:outline-none focus:border-orange-500 focus:shadow-[0_0_15px_rgba(249,115,22,0.2)] transition-all placeholder-gray-700">
                </div>

                                <transition-group name="blast" tag="div" class="space-y-3">
                    <div v-for="item in filteredPhrases" :key="item.romaji" @click="speak(item, $event)"
                         :class="{'speaking-active': speakingItem === item.romaji}"
                         class="steel-plate p-4 cursor-pointer flex justify-between items-start group transition-all duration-300">
                        
                        <div class="relative z-10 flex-1 pr-2">
                            <div class="text-[9px] font-bold text-gray-500 mb-1 font-mono uppercase tracking-widest border border-gray-700 inline-block px-1 rounded bg-black/30">{{ item.tags || activeCategory.id }}</div>
                            <h3 class="text-xl font-bold text-gray-100 mb-1 tracking-tight leading-tight">{{ item.romaji }}</h3>
                            <p class="text-sm text-gray-400 italic mb-2">{{ item.english }}</p>
                            
                            
                            <div v-if="item.nuance" class="mt-1 pt-1 border-t border-dashed border-gray-800/50">
                                <p class="text-[10px] text-gray-500 font-mono leading-snug group-hover:text-steel-blue transition-colors">
                                    <span class="text-orange-900/80 mr-1 text-[9px] select-none">>></span>{{ item.nuance }}
                                </p>
                            </div>
                        </div>

                        <div class="text-right pl-2 relative z-10 flex-shrink-0">
                            <p class="text-lg font-bold text-gray-300 opacity-90 leading-tight" style="text-shadow: 0 1px 2px black;">{{ item.japanese }}</p>
                            <div class="mt-3 w-10 h-10 rounded-full bg-[#111] border border-gray-700 flex items-center justify-center shadow-[inset_0_2px_5px_rgba(0,0,0,1)] group-active:bg-orange-900/30 transition-colors ml-auto group-hover:border-gray-500">
                                <i class="ph-fill ph-speaker-high text-gray-500 group-hover:text-orange-500 transition-colors text-lg"></i>
                            </div>
                        </div>
                        
                        <div class="absolute inset-0 bg-gradient-to-r from-orange-900/0 via-orange-500/0 to-orange-500/0 group-active:via-orange-500/10 transition-all duration-300"></div>
                    </div>
                </transition-group>
                
                <div v-if="filteredPhrases.length === 0" class="text-center py-12 opacity-40 font-mono">
                    <i class="ph ph-warning text-4xl mb-2 text-red-500"></i>
                    <p class="tracking-widest">NO DATA FOUND</p>
                </div>
            </div>

            <div v-else-if="view === 'aizuchi'" class="flex flex-col items-center justify-center h-[70vh]">
                <div class="text-center mb-10">
                    <h2 class="text-4xl font-black text-teal-500 tracking-tighter drop-shadow-lg">AIZUCHI <span class="text-gray-600">OS</span></h2>
                    <p class="text-[10px] text-teal-400/60 font-mono mt-2 tracking-[0.3em]">AUTO-RESPONSE SYSTEM V2.0</p>
                </div>

                <button @mousedown="triggerAizuchi($event)" @touchstart.prevent="triggerAizuchi($event)"
                        class="steel-plate w-64 h-64 rounded-full border-4 border-teal-900/50 shadow-[0_0_60px_rgba(20,184,166,0.1)] active:scale-95 flex flex-col items-center justify-center relative overflow-hidden group transition-all duration-100 active:border-teal-400">
                    
                    <div class="absolute inset-0 bg-[conic-gradient(from_0deg,transparent_0deg,rgba(20,184,166,0.2)_360deg)] animate-[spin_4s_linear_infinite] opacity-50"></div>
                    
                    <i class="ph-fill ph-chats text-8xl text-teal-600 mb-2 drop-shadow-[0_0_15px_rgba(20,184,166,0.5)] group-active:text-teal-200 group-active:scale-110 transition-all relative z-10"></i>
                    <span class="font-bold text-teal-200 tracking-widest text-xs relative z-10 border border-teal-800 px-3 py-1 rounded bg-black/40">TAP TO NOD</span>
                </button>

                <div class="mt-12 h-20 text-center w-full max-w-xs">
                    <transition name="blast">
                        <div v-if="lastAizuchi" class="steel-plate px-8 py-4 rounded-xl inline-block border-teal-900/50">
                            <span class="text-2xl font-bold text-white mr-2 block">"{{ lastAizuchi.romaji }}"</span>
                            <span class="text-xs text-teal-400 font-mono tracking-wider">{{ lastAizuchi.english }}</span>
                        </div>
                    </transition>
                </div>
            </div>
        </transition>
            
        <transition name="blast">
            <div v-if="toast.show" class="fixed bottom-24 left-1/2 -translate-x-1/2 w-11/12 max-w-sm bg-[#111]/95 border border-orange-500/50 rounded-xl p-4 shadow-[0_0_30px_rgba(255,69,0,0.3)] z-50 pointer-events-none text-center backdrop-blur-md">
                <p class="text-white font-bold text-sm mb-1 leading-snug">{{ toast.text }}</p>
                <p class="text-orange-400 text-xs font-mono tracking-wider">{{ toast.sub }}</p>
            </div>
        </transition>
    </main>

        <footer class="bg-[#020202] border-t border-gray-900 p-4 text-center z-10 space-y-2">
        <p class="text-[9px] text-gray-600 font-mono tracking-[0.2em] uppercase">Forged by Hisa</p>
        <div class="opacity-30 hover:opacity-100 transition-opacity duration-500">
            <p class="text-[8px] text-orange-900 font-mono uppercase tracking-[0.3em]">Forged by Hisa</p>
        </div>
    </footer>

</div>

<script>
    const { createApp, ref, computed } = Vue;

    // --- DATASET ---
// --- DATASET ---
// --- DATASET ---
// --- DATASET ---
// --- DATASET ---
    const DB = {
        steel: [
            { japanese: 'ご安全に！', romaji: 'Go-Anzen-ni!', english: 'Safety First!' },
            { japanese: '現場', romaji: 'Genba', english: 'The Field / Site' },
            { japanese: '高炉', romaji: 'Ko-ro', english: 'Blast Furnace' },
            { japanese: '転炉', romaji: 'Ten-ro', english: 'Basic Oxygen Furnace' },
            { japanese: '品質第一', romaji: 'Hinshitsu Dai-ichi', english: 'Quality First' },
            { japanese: '歩留まり', romaji: 'Bu-do-mari', english: 'Yield Rate' },
            { japanese: '圧延', romaji: 'Atsu-en', english: 'Rolling' },
            { japanese: '納期遵守', romaji: 'Noki Junshu', english: 'Strict Deadline' },
            { japanese: 'KY（危険予知）', romaji: 'K-Y', english: 'Hazard Prediction' },
            { japanese: '指差し確認', romaji: 'Yubisashi Kakunin', english: 'Point & Call' },
            { japanese: '鉄は国家なり', romaji: 'Tetsu wa Kokka nari', english: 'Steel is the Nation' },
            { japanese: 'ヘルメットよし！', romaji: 'Helmet Yoshi!', english: 'Helmet Check!' },
            { japanese: '立ち入り禁止', romaji: 'Tachi-iri Kinshi', english: 'Keep Out' },
            { japanese: 'ゼロ災', romaji: 'Zerosai', english: 'Zero Accidents' },
            { japanese: '整理整頓', romaji: 'Seiri Seiton', english: 'Organize & Tidy' },
            { japanese: '5S', romaji: 'Go-Esu', english: '5S System' },
            { japanese: '報連相', romaji: 'Ho-Ren-So', english: 'Report/Communicate' },
            { japanese: '可動率', romaji: 'Kado-ritsu', english: 'Availability' },
            { japanese: '在庫', romaji: 'Zaiko', english: 'Inventory' },
            { japanese: '玉掛け', romaji: 'Tamagake', english: 'Slinging' },
            { japanese: 'クレーン', romaji: 'Crane', english: 'Crane' },
            { japanese: '定修', romaji: 'Teishu', english: 'Scheduled Repair' },
            { japanese: '突発', romaji: 'Toppatsu', english: 'Sudden Failure' },
            { japanese: '改善', romaji: 'Kaizen', english: 'Continuous Improvement' },
            { japanese: '朝礼', romaji: 'Chorei', english: 'Morning Meeting' },
            { japanese: '日報', romaji: 'Nippo', english: 'Daily Report' },
            { japanese: 'スラグ', romaji: 'Slag', english: 'Slag' },
            { japanese: '溶鋼', romaji: 'Yoko', english: 'Molten Steel' },
            { japanese: '点検', romaji: 'Tenken', english: 'Inspection' },
            { japanese: '保護具', romaji: 'Hogogu', english: 'PPE' },
            { japanese: 'フォークリフト', romaji: 'Forklift', english: 'Forklift' },
            { japanese: 'コークス', romaji: 'Cokes', english: 'Coke' },
            { japanese: '鉄鉱石', romaji: 'Tekkoseki', english: 'Iron Ore' },
            { japanese: 'スクラップ', romaji: 'Scrap', english: 'Scrap' },
            { japanese: '酸洗', romaji: 'San-sen', english: 'Pickling' },
            { japanese: '亜鉛メッキ', romaji: 'Aen-Mekki', english: 'Galvanizing' },
            { japanese: '不適合', romaji: 'Futekigo', english: 'Non-conformance' },
            { japanese: 'ヒヤリハット', romaji: 'Hiyari-Hatto', english: 'Near Miss' },
            { japanese: '熱中症', romaji: 'Netchusho', english: 'Heat Stroke' },
            { japanese: '連続鋳造', romaji: 'Ren-chu', english: 'Continuous Casting' },
            { japanese: '厚板', romaji: 'Atsu-ita', english: 'Heavy Plate' },
            { japanese: '薄板', romaji: 'Usu-ita', english: 'Sheet Steel' },
            { japanese: '安全靴', romaji: 'Anzen-gutsu', english: 'Safety Shoes' },
            { japanese: '耳栓', romaji: 'Mimisen', english: 'Earplugs' },
            { japanese: '防塵マスク', romaji: 'Bojin-Mask', english: 'Dust Mask' }
        ],
        business: [
            { japanese: 'お疲れ様です', romaji: 'Otsukaresama', english: 'Good work' },
            { japanese: '承知しました', romaji: 'Shochi shimashita', english: 'Understood' },
            { japanese: 'よろしくお願いします', romaji: 'Yoroshiku Onegaishimasu', english: 'I rely on you' },
            { japanese: '前向きに検討します', romaji: 'Maemuki ni Kento', english: 'Consider positively' },
            { japanese: 'たたき台', romaji: 'Tataki-dai', english: 'Draft / Strawman' },
            { japanese: '落とし所', romaji: 'Otoshi-dokoro', english: 'Compromise Point' },
            { japanese: '根回し', romaji: 'Nemawashi', english: 'Laying Groundwork' },
            { japanese: '弊社', romaji: 'Heisha', english: 'My Company' },
            { japanese: '御社', romaji: 'Onsha', english: 'Your Company' },
            { japanese: '名刺交換', romaji: 'Meishi Kokan', english: 'Card Exchange' },
            { japanese: '上座・下座', romaji: 'Kamiza / Shimoza', english: 'Seat of Honor/Lowest' },
            { japanese: '議事録', romaji: 'Gijiroku', english: 'Meeting Minutes' },
            { japanese: 'なるはや', romaji: 'Naruhaya', english: 'ASAP' },
            { japanese: '直帰', romaji: 'Chokki', english: 'Go home directly' },
            { japanese: '出向', romaji: 'Shukko', english: 'Secondment' },
            { japanese: '転勤', romaji: 'Tenkin', english: 'Job Transfer' },
            { japanese: 'お世話になっております', romaji: 'Osewa ni natte...', english: 'Thank you for support' },
            { japanese: '恐れ入ります', romaji: 'Osore-irimasu', english: 'I beg your pardon' },
            { japanese: '定時', romaji: 'Teiji', english: 'Knock-off time' },
            { japanese: '残業', romaji: 'Zangyo', english: 'Overtime' },
            { japanese: '有給', romaji: 'Yukyu', english: 'Paid Leave' },
            { japanese: '会議', romaji: 'Kaigi', english: 'Meeting' },
            { japanese: '課長・部長', romaji: 'Kacho / Bucho', english: 'Manager / Director' },
            { japanese: '相見積もり', romaji: 'Ai-mitsumori', english: 'Competitive Quotes' },
            { japanese: '納期遅延', romaji: 'Noki Chien', english: 'Delivery Delay' },
            { japanese: '検収', romaji: 'Kenshu', english: 'Inspection/Acceptance' },
            { japanese: '予算', romaji: 'Yosan', english: 'Budget' },
            { japanese: '契約書', romaji: 'Keiyakusho', english: 'Contract' },
            { japanese: '判子', romaji: 'Hanko', english: 'Personal Seal' },
            { japanese: '電子承認', romaji: 'Denshi Shonin', english: 'E-Approval' },
            { japanese: 'コスト削減', romaji: 'Cost Sakugen', english: 'Cost Reduction' },
            { japanese: '仕様書', romaji: 'Shiyosho', english: 'Spec Sheet' },
            { japanese: '発注', romaji: 'Hatchu', english: 'Placing Order' },
            { japanese: '請求書', romaji: 'Seikyusho', english: 'Invoice' },
            { japanese: '領収書', romaji: 'Ryoshusho', english: 'Receipt' },
            { japanese: '経費精算', romaji: 'Keihi Seisan', english: 'Expense Report' },
            { japanese: '出張', romaji: 'Shutcho', english: 'Business Trip' },
            { japanese: '手土産', romaji: 'Temiyage', english: 'Souvenir/Gift' },
            { japanese: 'ご足労', romaji: 'Gosokuro', english: 'Trouble of coming' },
            { japanese: '勉強します', romaji: 'Benkyo Shimasu', english: 'I will study (discount)' },
            { japanese: '折り返し', romaji: 'Orikaeshi', english: 'Call back' },
            { japanese: '席を外しております', romaji: 'Seki wo hazushite...', english: 'Not at desk' }
        ],
        nomikai: [
            { japanese: '乾杯！', romaji: 'Kanpai!', english: 'Cheers!' },
            { japanese: 'とりあえずビール', romaji: 'Toriaezu Beer', english: 'Beer for now' },
            { japanese: '無礼講', romaji: 'Bureiko', english: 'Rank aside' },
            { japanese: '締め（しめ）', romaji: 'Shime', english: 'The Wrap Up' },
            { japanese: '一本締め', romaji: 'Ippon-jime', english: 'One Clap' },
            { japanese: '割り勘', romaji: 'Warikan', english: 'Split the bill' },
            { japanese: '飲み放題', romaji: 'Nomihodai', english: 'All you can drink' },
            { japanese: '二次会', romaji: 'Nijikai', english: 'After-party' },
            { japanese: '二日酔い', romaji: 'Futsukayoi', english: 'Hangover' },
            { japanese: '枝豆', romaji: 'Edamame', english: 'Edamame' },
            { japanese: '唐揚げ', romaji: 'Kara-age', english: 'Fried Chicken' },
            { japanese: 'お酌', romaji: 'Oshaku', english: 'Pouring drink' },
            { japanese: 'ハイボール', romaji: 'Highball', english: 'Whisky Soda' },
            { japanese: '日本酒', romaji: 'Nihonshu', english: 'Sake' },
            { japanese: '焼酎', romaji: 'Shochu', english: 'Distilled Spirit' },
            { japanese: 'ラストオーダー', romaji: 'Last Order', english: 'Last Order' },
            { japanese: 'お冷（おひや）', romaji: 'Ohiya', english: 'Water' },
            { japanese: 'チェイサー', romaji: 'Chaser', english: 'Water back' },
            { japanese: '熱燗', romaji: 'Atsukan', english: 'Hot Sake' },
            { japanese: '冷酒', romaji: 'Reishu', english: 'Cold Sake' },
            { japanese: 'ロックで', romaji: 'Rock de', english: 'On the rocks' },
            { japanese: '水割り', romaji: 'Mizuwari', english: 'Water mix' },
            { japanese: 'お通し', romaji: 'Otoshi', english: 'Appetizer charge' },
            { japanese: '席替え', romaji: 'Sekigae', english: 'Seat change' },
            { japanese: '一気飲み', romaji: 'Ikki', english: 'Chug!' },
            { japanese: '介抱', romaji: 'Kaiho', english: 'Nursing' },
            { japanese: '終電逃した', romaji: 'Shuden Nogashita', english: 'Missed last train' }
        ],
                food: [
            { japanese: 'いただきます', romaji: 'Itadakimasu', english: 'A phrase said before eating to give thanks.' },
            { japanese: 'ごちそうさま', romaji: 'Gochisosama', english: 'A phrase said after eating to thank the cook.' },
            { japanese: '美味しい', romaji: 'Oishii', english: 'It means Delicious.' },
            { japanese: 'お任せ', romaji: 'Omakase', english: 'Leaving the menu selection to the chef.' },
            { japanese: '替え玉', romaji: 'Kaedama', english: 'Requesting a noodle refill for ramen.' },
            { japanese: '別腹', romaji: 'Betsubara', english: 'Having a separate stomach for dessert.' },
            { japanese: '猫舌', romaji: 'Neko-jita', english: 'Sensitive tongue that cannot eat hot food.' },
            { japanese: 'もちもち', romaji: 'Mochi-Mochi', english: 'Chewy and soft texture like mochi.' },
            { japanese: '旬', romaji: 'Shun', english: 'Seasonal food at its peak flavor.' },
            { japanese: '取り皿', romaji: 'Torizara', english: 'Small plate for sharing food.' },
            { japanese: 'おしぼり', romaji: 'Oshibori', english: 'Wet towel to clean hands before eating.' },
            { japanese: '居酒屋', romaji: 'Izakaya', english: 'Japanese style pub serving small dishes.' },
                        { japanese: '焼き鳥', romaji: 'Yakitori', english: 'Grilled chicken skewers.', isDish: true, desc_en: 'Skewered chicken grilled over charcoal. It pairs perfectly with beer and is a staple of Izakaya culture.' },
            { japanese: '刺身', romaji: 'Sashimi', english: 'Fresh raw fish sliced thinly.', isDish: true, desc_en: 'Fresh, raw fish sliced into thin pieces. Dipped in soy sauce and wasabi, it highlights the pure flavor of the ocean.' },
            { japanese: '醤油', romaji: 'Shoyu', english: 'Soy sauce.', isDish: true, desc_en: 'The soul of Japanese cuisine. A fermented sauce made from soybeans, adding a rich umami flavor to any dish.' },
            { japanese: 'わさび', romaji: 'Wasabi', english: 'Spicy green horseradish paste.', isDish: true, desc_en: 'A spicy green paste with a sharp, clearing kick. Essential for sushi and sashimi to enhance the fish flavor.' },
            { japanese: '定食', romaji: 'Teishoku', english: 'Set meal with rice, soup, and main dish.', isDish: true, desc_en: 'A balanced set meal including rice, miso soup, a main dish, and pickles. The standard for a healthy Japanese lunch.' },
            { japanese: 'おにぎり', romaji: 'Onigiri', english: 'Rice ball usually wrapped in seaweed.', isDish: true, desc_en: 'A handheld rice ball wrapped in nori seaweed. The ultimate comfort food and convenience store snack.' },
            { japanese: '弁当', romaji: 'Bento', english: 'Boxed lunch.', isDish: true, desc_en: 'A portable boxed lunch packed with variety. From station platforms to picnics, it is a meal of beautiful presentation.' },
            { japanese: '大盛り', romaji: 'Omori', english: 'Large portion of rice or food.' },
            { japanese: '激辛', romaji: 'Gekikara', english: 'Super spicy flavor.' },
            { japanese: '回転寿司', romaji: 'Kaiten-Sushi', english: 'Conveyor belt sushi restaurant.' },
            { japanese: '食感', romaji: 'Shokkan', english: 'Food texture.' },
            { japanese: 'うま味', romaji: 'Umami', english: 'Savory taste, the fifth basic taste.' },
            { japanese: '行列', romaji: 'Gyoretsu', english: 'Waiting line for popular restaurants.' },
            { japanese: '和牛', romaji: 'Wagyu', english: 'High quality Japanese beef.', isDish: true, desc_en: 'Premium Japanese beef known for its intense marbling. It literally melts in your mouth with a rich, buttery flavor.' },
            { japanese: '神戸牛', romaji: 'Kobe-Gyu', english: 'Kobe beef, a famous brand of Wagyu.', isDish: true, desc_en: 'The most famous brand of Wagyu. Globally renowned for its tenderness and strict quality standards.' },
            { japanese: 'ラーメン', romaji: 'Ramen', english: 'Noodle soup with various toppings.', isDish: true, desc_en: 'A soul-satisfying noodle soup. Broth styles vary by region, from rich pork bone to light soy sauce.' },
            { japanese: '豚骨', romaji: 'Tonkotsu', english: 'Rich pork bone broth used in ramen.', isDish: true, desc_en: 'A creamy, rich broth made from boiling pork bones for hours. The signature flavor of Fukuoka ramen.' },
            { japanese: '天ぷら', romaji: 'Tempura', english: 'Seafood or vegetables battered and deep fried.', isDish: true, desc_en: 'Seafood and vegetables fried in a light, crispy batter. Best enjoyed with dipping sauce or matcha salt.' },
            { japanese: 'すき焼き', romaji: 'Sukiyaki', english: 'Beef hot pot cooked in sweet soy sauce.', isDish: true, desc_en: 'Thinly sliced beef simmered in a sweet soy sauce broth. Often dipped in raw egg for a smooth, rich taste.' },
            { japanese: 'しゃぶしゃぶ', romaji: 'Shabu-Shabu', english: 'Hot pot where meat is dipped in broth.', isDish: true, desc_en: 'A hot pot dish where you swish thin meat in boiling broth. It is a healthy way to enjoy the natural taste of ingredients.' },
            { japanese: 'お好み焼き', romaji: 'Okonomiyaki', english: 'Savory Japanese pancake.', isDish: true, desc_en: 'A savory pancake filled with cabbage and meat. Cooked on a hot iron plate and smothered in sauce and mayo.' },
            { japanese: 'たこ焼き', romaji: 'Takoyaki', english: 'Ball-shaped snack containing octopus.', isDish: true, desc_en: 'Hot, round batter balls with a piece of octopus inside. A famous Osaka street food, crisp outside and creamy inside.' },
            { japanese: 'うなぎ', romaji: 'Unagi', english: 'Grilled eel.', isDish: true, desc_en: 'Freshwater eel grilled with a sweet and savory sauce. traditionally eaten in summer to gain stamina.' },
            { japanese: 'うどん', romaji: 'Udon', english: 'Thick wheat flour noodles.', isDish: true, desc_en: 'Thick, chewy white wheat noodles. Served in a gentle dashi broth, it is comfort food for the stomach.' },
            { japanese: 'そば', romaji: 'Soba', english: 'Buckwheat noodles.', isDish: true, desc_en: 'Thin noodles made from buckwheat. Healthy and aromatic, often eaten cold with dipping sauce or hot in broth.' },
            { japanese: 'カレーライス', romaji: 'Curry Rice', english: 'Japanese style curry and rice.', isDish: true, desc_en: 'Japanese style curry, thicker and sweeter than Indian curry. It is considered a national home-cooked favorite.' },
            { japanese: 'カツ丼', romaji: 'Katsudon', english: 'Pork cutlet rice bowl.', isDish: true, desc_en: 'A bowl of rice topped with a deep-fried pork cutlet and egg. Often eaten before a big match for victory.' },
            { japanese: '牛丼', romaji: 'Gyudon', english: 'Beef bowl.', isDish: true, desc_en: 'A bowl of rice topped with simmered beef and onions. Fast, cheap, and delicious energy food.' },
            { japanese: '抹茶', romaji: 'Matcha', english: 'Powdered green tea.', isDish: true, desc_en: 'Finely ground green tea powder. Known for its vivid green color and distinct bitterness, used in tea ceremonies and sweets.' },
            { japanese: '大福', romaji: 'Daifuku', english: 'Rice cake stuffed with sweet bean paste.', isDish: true, desc_en: 'A soft mochi rice cake stuffed with sweet red bean paste. A traditional sweet that pairs perfectly with green tea.' },
            { japanese: 'デパ地下', romaji: 'Depachika', english: 'Department store basement food market.' },
            { japanese: 'コンビニ', romaji: 'Konbini', english: 'Convenience store.' },
            { japanese: '純米酒', romaji: 'Junmai', english: 'Sake made only from rice, water, and koji.', isDish: true, desc_en: 'Pure rice sake made without added alcohol. It has a rich, full-bodied flavor that highlights the quality of the rice.' },
            { japanese: '大吟醸', romaji: 'Daiginjo', english: 'Premium sake made from highly polished rice.', isDish: true, desc_en: 'Top-tier premium sake made from highly polished rice. Known for its fruity, floral aroma and clean finish.' },
            { japanese: '芋焼酎', romaji: 'Imo-Shochu', english: 'Shochu made from sweet potatoes.', isDish: true, desc_en: 'A distilled spirit made from sweet potatoes. It has a distinctive, earthy aroma and a robust flavor profile.' },
            { japanese: '麦焼酎', romaji: 'Mugi-Shochu', english: 'Shochu made from barley.', isDish: true, desc_en: 'A distilled spirit made from barley. It has a crisp, clean taste similar to whisky, easy for beginners to drink.' },
            { japanese: 'レモンサワー', romaji: 'Lemon Sour', english: 'Shochu cocktail with lemon and soda.', isDish: true, desc_en: 'A refreshing cocktail of Shochu, soda, and lemon. It pairs well with oily foods like fried chicken.' },
            { japanese: '餃子', romaji: 'Gyoza', english: 'Pan-fried dumplings.', isDish: true, desc_en: 'Pan-fried dumplings filled with meat and vegetables. Crispy skin and juicy filling make them the best partner for beer.' },
            { japanese: 'マグロ', romaji: 'Maguro', english: 'Tuna.', isDish: true, desc_en: 'Lean red tuna. The most classic sushi topping, offering a clean and refreshing taste.' },
            { japanese: 'トロ', romaji: 'Toro', english: 'Fatty tuna belly.', isDish: true, desc_en: 'The fatty belly part of tuna. It has a rich, buttery texture that instantly melts in your mouth.' },
            { japanese: 'ウニ', romaji: 'Uni', english: 'Sea urchin.', isDish: true, desc_en: 'Sea urchin roe. A luxury delicacy with a creamy texture and a rich, sweet taste of the ocean.' },
            { japanese: 'サーモン', romaji: 'Salmon', english: 'Salmon.', isDish: true, desc_en: 'Raw salmon. Loved for its fatty, soft texture and sweetness, it is especially popular with younger people and foreigners.' },
            { japanese: '納豆', romaji: 'Natto', english: 'Sticky superfood. Try if you dare!', isDish: true, desc_en: 'Fermented soybeans with a strong smell and sticky texture. A polarizing superfood that is incredibly healthy.' },
            { japanese: '味噌汁', romaji: 'Miso Shiru', english: 'Miso soup.', isDish: true, desc_en: 'A soup made with dashi stock and miso paste. The comforting, essential side dish of every traditional Japanese meal.' }
        ],
        culture: [
            { japanese: 'もったいない', romaji: 'Mottainai', english: 'Wasteful' },
            { japanese: '武士道', romaji: 'Bushido', english: 'Way of Warrior' },
            { japanese: 'カワイイ', romaji: 'Kawaii', english: 'Cute' },
            { japanese: 'わびさび', romaji: 'Wabi-Sabi', english: 'Beauty in imperfection' },
            { japanese: '推し', romaji: 'Oshi', english: 'My Fav / Stan' },
            { japanese: 'オタク', romaji: 'Otaku', english: 'Geek / Enthusiast' },
            { japanese: '義理', romaji: 'Giri', english: 'Duty / Obligation' },
            { japanese: 'おもてなし', romaji: 'Omotenashi', english: 'Hospitality' },
            { japanese: '以心伝心', romaji: 'Ishin-denshin', english: 'Telepathy' },
            { japanese: 'ガマン', romaji: 'Gaman', english: 'Endurance' },
            { japanese: '温泉', romaji: 'Onsen', english: 'Hot Spring' },
            { japanese: '畳', romaji: 'Tatami', english: 'Straw Mat' },
            { japanese: '土足厳禁', romaji: 'Dosoku Genkin', english: 'No Shoes' },
            { japanese: '玄関', romaji: 'Genkan', english: 'Entrance' },
            { japanese: '神社', romaji: 'Jinja', english: 'Shrine' },
            { japanese: 'お寺', romaji: 'Otera', english: 'Temple' },
            { japanese: '桜', romaji: 'Sakura', english: 'Cherry Blossom' },
            { japanese: '紅葉', romaji: 'Koyo', english: 'Autumn Leaves' },
            { japanese: '先輩・後輩', romaji: 'Senpai/Kohai', english: 'Senior/Junior' },
            { japanese: '空気を読む', romaji: 'Kuuki wo yomu', english: 'Read the air' },
            { japanese: 'お辞儀', romaji: 'Ojigi', english: 'Bow' },
            { japanese: '正座', romaji: 'Seiza', english: 'Kneeling' },
            { japanese: '本音と建前', romaji: 'Honne / Tatemae', english: 'True feeling / Public face' },
            { japanese: '花見', romaji: 'Hanami', english: 'Flower Viewing' },
            { japanese: '祭り', romaji: 'Matsuri', english: 'Festival' },
            { japanese: '着物', romaji: 'Kimono', english: 'Kimono' },
            { japanese: '浴衣', romaji: 'Yukata', english: 'Light Kimono' },
            { japanese: '侍', romaji: 'Samurai', english: 'Samurai' },
            { japanese: '忍者', romaji: 'Ninja', english: 'Ninja' },
            { japanese: '盆踊り', romaji: 'Bon Odori', english: 'Bon Dance' }
        ],
                travel_transport: [
            { japanese: '東京駅まで', romaji: 'Tokyo Eki made', english: 'To Tokyo Station' },
            { japanese: '切符売り場', romaji: 'Kippu Uriba', english: 'Ticket Office' },
            { japanese: '改札', romaji: 'Kaisatsu', english: 'Ticket Gate' },
            { japanese: '乗り換え', romaji: 'Norikae', english: 'Transfer' },
            { japanese: '路線図', romaji: 'Rosen-zu', english: 'Route Map' },
            { japanese: 'この電車は〜に行きますか？', romaji: 'Kono densha wa ~ ni ikimasuka?', english: 'Does this train go to ~?' },
            { japanese: '新幹線', romaji: 'Shinkansen', english: 'Bullet Train' },
            { japanese: '指定席', romaji: 'Shitei-seki', english: 'Reserved Seat' },
            { japanese: '自由席', romaji: 'Jiyu-seki', english: 'Non-reserved Seat' },
            { japanese: 'タクシー乗り場', romaji: 'Taxi Noriba', english: 'Taxi Stand' },
            { japanese: 'ここに行きたいです', romaji: 'Koko ni ikitai desu', english: 'I want to go here (show map)' },
            { japanese: '降ります！', romaji: 'Orimasu!', english: 'Getting off!' },
            { japanese: 'ICカード', romaji: 'IC Card', english: 'Suica / Pasmo' },
            { japanese: 'チャージ', romaji: 'Charge', english: 'Top up' },
            { japanese: '満員電車', romaji: 'Man-in Densha', english: 'Packed Train' },
            { japanese: '終電', romaji: 'Shuden', english: 'Last Train' }
        ],
        travel_hotel: [
            { japanese: 'チェックインお願いします', romaji: 'Check-in onegaishimasu', english: 'Check-in, please.' },
            { japanese: '予約しています', romaji: 'Yoyaku shiteimasu', english: 'I have a reservation.' },
            { japanese: 'Wi-Fiのパスワード', romaji: 'Wi-Fi Password', english: 'Wi-Fi Password' },
            { japanese: '朝食は何時ですか？', romaji: 'Choshoku wa nanji desuka?', english: 'What time is breakfast?' },
            { japanese: '荷物を預かってくれますか？', romaji: 'Nimotsu wo azukatte kuremasuka?', english: 'Can you keep my bags?' },
            { japanese: '大浴場', romaji: 'Dai-yokujo', english: 'Public Bath' },
            { japanese: '禁煙ルーム', romaji: 'Kin-en Room', english: 'Non-smoking Room' },
            { japanese: 'タクシーを呼んでください', romaji: 'Taxi wo yonde kudasai', english: 'Please call a taxi.' },
            { japanese: '充電', romaji: 'Juden', english: 'Charging' }
        ],
        travel_airport: [
            { japanese: '国際線ターミナル', romaji: 'Kokusaisen Terminal', english: 'International Terminal' },
            { japanese: '国内線', romaji: 'Kokunasen', english: 'Domestic Line' },
            { japanese: '搭乗口', romaji: 'Tojo-guchi', english: 'Boarding Gate' },
            { japanese: '保安検査', romaji: 'Hoan Kensa', english: 'Security Check' },
            { japanese: '手荷物受取所', romaji: 'Tenimotsu Uketori', english: 'Baggage Claim' },
            { japanese: '両替', romaji: 'Ryogae', english: 'Currency Exchange' },
            { japanese: 'リムジンバス', romaji: 'Limousine Bus', english: 'Airport Bus' },
            { japanese: 'パスポート', romaji: 'Passport', english: 'Passport' }
        ],
        travel_shopping: [
            { japanese: 'コンビニ', romaji: 'Konbini', english: 'Convenience Store' },
            { japanese: 'これください', romaji: 'Kore kudasai', english: 'I will take this.' },
            { japanese: 'いくらですか？', romaji: 'Ikura desuka?', english: 'How much?' },
            { japanese: '免税できますか？', romaji: 'Menzei dekimasuka?', english: 'Tax free?' },
            { japanese: '袋いります', romaji: 'Fukuro irimasu', english: 'I need a bag.' },
            { japanese: '袋いりません', romaji: 'Fukuro irimasen', english: 'No bag needed.' },
            { japanese: '温めますか？', romaji: 'Atatamemasuka?', english: 'Warm it up? (Microwave)' },
            { japanese: 'お箸ください', romaji: 'Ohashi kudasai', english: 'Chopsticks please.' },
            { japanese: 'クレジットカード', romaji: 'Credit Card', english: 'Credit Card' },
            { japanese: '現金', romaji: 'Genkin', english: 'Cash' }
        ],
        travel_basic: [
            { japanese: 'トイレの場所を教えてください', romaji: 'Toilet no basyo wo oshiete kudasai?', english: 'Where is the restroom?' },
            { japanese: '地図', romaji: 'Chizu', english: 'Map' },
            { japanese: 'ここ', romaji: 'Koko', english: 'Here' },
            { japanese: '出口', romaji: 'Deguchi', english: 'Exit' },
            { japanese: '入口', romaji: 'Iriguchi', english: 'Entrance' },
            { japanese: 'コインロッカー', romaji: 'Coin Locker', english: 'Coin Locker' },
            { japanese: 'エレベーター', romaji: 'Elevator', english: 'Elevator' },
            { japanese: 'エスカレーター', romaji: 'Escalator', english: 'Escalator' },
            { japanese: '右', romaji: 'Migi', english: 'Right' },
            { japanese: '左', romaji: 'Hidari', english: 'Left' },
            { japanese: '真っ直ぐ', romaji: 'Massugu', english: 'Straight' },
            { japanese: 'わかりません', romaji: 'Wakarimasen', english: 'I don\'t understand.' },
            { japanese: '英語話せますか？', romaji: 'Eigo hanasemasuka?', english: 'Can you speak English?' },
            { japanese: '助けて！', romaji: 'Tasukete!', english: 'Help!' }
        ],
        survival: [
            { japanese: 'すみません', romaji: 'Sumimasen', english: 'Excuse me' },
            { japanese: 'ありがとう', romaji: 'Arigato', english: 'Thank you' },
            { japanese: '助けて！', romaji: 'Tasukete!', english: 'Help!' },
            { japanese: '病院', romaji: 'Byouin', english: 'Hospital' },
            { japanese: '薬局', romaji: 'Yakkyoku', english: 'Pharmacy' },
            { japanese: '交番', romaji: 'Koban', english: 'Police Box' },
            { japanese: 'パスポート', romaji: 'Passport', english: 'Passport' },
            { japanese: '地震', romaji: 'Jishin', english: 'Earthquake' },
            { japanese: '津波', romaji: 'Tsunami', english: 'Tsunami' },
            { japanese: '避難所', romaji: 'Hinan-jo', english: 'Shelter' },
            { japanese: '救急車', romaji: 'Kyukyusha', english: 'Ambulance' },
            { japanese: '警察', romaji: 'Keisatsu', english: 'Police' },
            { japanese: '大使館', romaji: 'Taishikan', english: 'Embassy' },
            { japanese: '迷子', romaji: 'Maigo', english: 'Lost person' },
            { japanese: '現金', romaji: 'Genkin', english: 'Cash' },
            { japanese: 'Wi-Fiありますか？', romaji: 'Wifi arimasuka?', english: 'Have Wifi?' },
            { japanese: '英語話せますか', romaji: 'Eigo hanasemasuka', english: 'Speak English?' },
            { japanese: '分かりません', romaji: 'Wakarimasen', english: 'I don\'t understand' },
            { japanese: '書いてください', romaji: 'Kaite kudasai', english: 'Please write it' },
            { japanese: 'いくらですか', romaji: 'Ikura desuka', english: 'How much?' },
            { japanese: '大丈夫', romaji: 'Daijobu', english: 'Okay / Fine' }
        ],
        aizuchi_random: [
            { japanese: 'はい', romaji: 'Hai', english: 'Yes' },
            { japanese: 'なるほど', romaji: 'Naruhodo', english: 'I see' },
            { japanese: 'へぇ〜', romaji: 'Heeee', english: 'Wow' },
            { japanese: '確かに', romaji: 'Tashikani', english: 'Certainly' },
            { japanese: 'マジですか', romaji: 'Maji?', english: 'Really?' },
            { japanese: 'すごい！', romaji: 'Sugoi!', english: 'Amazing!' },
            { japanese: 'そうですか', romaji: 'Soudesuka', english: 'Is that so?' },
            { japanese: '本当に？', romaji: 'Honto ni?', english: 'Truly?' },
            { japanese: '嘘でしょ', romaji: 'Uso desho', english: 'No way / Lie' },
            { japanese: '面白いですね', romaji: 'Omoshiroi desune', english: 'That is interesting' },
            { japanese: '勉強になります', romaji: 'Benkyo ni narimasu', english: 'I am learning a lot' },
            { japanese: 'さすがですね', romaji: 'Sasuga desune', english: 'As expected of you' }
        ]
    };
    createApp({
        setup() {
            const view = ref('home'); 
            const activeCategory = ref({});
            const searchQuery = ref('');
                        const speakingItem = ref(null);
            const lastAizuchi = ref(null);

            const categories = [
                { id: 'steel', label: 'STEEL', icon: 'ph-fill ph-factory', color: 'text-orange-500', glow: 'rgba(249,115,22,0.8)', desc: 'Plant & Safety' },
                { id: 'travel', label: 'TRAVEL', icon: 'ph-fill ph-airplane-tilt', color: 'text-emerald-400', glow: 'rgba(52,211,153,0.8)', desc: 'Navigation & Life' },
                { id: 'business', label: 'BUSINESS', icon: 'ph-fill ph-briefcase', color: 'text-blue-400', glow: 'rgba(96,165,250,0.8)', desc: 'Office Politics' },
                { id: 'nomikai', label: 'NOMIKAI', icon: 'ph-fill ph-beer-bottle', color: 'text-pink-500', glow: 'rgba(236,72,153,0.8)', desc: 'Party Protocol' },
                { id: 'food', label: 'FOOD', icon: 'ph-fill ph-bowl-food', color: 'text-yellow-400', glow: 'rgba(250,204,21,0.8)', desc: 'Gourmet Terms' },
                { id: 'culture', label: 'CULTURE', icon: 'ph-fill ph-torii', color: 'text-purple-400', glow: 'rgba(192,132,252,0.8)', desc: 'Bushido & Kawaii' },
                { id: 'aizuchi', label: 'AIZUCHI', icon: 'ph-fill ph-chats', color: 'text-teal-400', glow: 'rgba(45,212,191,0.8)', desc: 'Nodding Master' },
                { id: 'survival', label: 'SURVIVAL', icon: 'ph-fill ph-first-aid', color: 'text-red-500', glow: 'rgba(239,68,68,0.8)', desc: 'Emergency' },
            ];

            const travelSubCategories = [
                { id: 'travel_transport', label: 'TRANSPORT', icon: 'ph-fill ph-train', desc: 'Train, Taxi, IC Card' },
                { id: 'travel_hotel', label: 'HOTEL', icon: 'ph-fill ph-bed', desc: 'Check-in, Requests' },
                { id: 'travel_airport', label: 'AIRPORT', icon: 'ph-fill ph-airplane-landing', desc: 'Gate, Baggage' },
                { id: 'travel_shopping', label: 'SHOPPING', icon: 'ph-fill ph-shopping-bag', desc: 'Konbini, Payment' },
                { id: 'travel_basic', label: 'BASIC / MAP', icon: 'ph-fill ph-map-pin', desc: 'Directions, Toilet' },
            ];

            const filteredPhrases = computed(() => {
                if (view.value !== 'list') return [];
                const list = DB[activeCategory.value.id] || [];
                if (!searchQuery.value) return list;
                const q = searchQuery.value.toLowerCase();
                return list.filter(item => 
                    item.english.toLowerCase().includes(q) || 
                    item.romaji.toLowerCase().includes(q) ||
                    item.japanese.includes(q)
                );
            });

                        const selectCategory = (cat) => {
                if (cat.id === 'travel') {
                    view.value = 'sub_category';
                    activeCategory.value = cat;
                } else {
                    activeCategory.value = cat;
                    if (cat.id === 'aizuchi') {
                        view.value = 'aizuchi';
                    } else {
                        view.value = 'list';
                    }
                }
                searchQuery.value = '';
            };

                        const toast = ref({ show: false, text: '', sub: '' });

            const selectSubCategory = (sub) => {
                activeCategory.value = { ...sub, color: 'text-emerald-400' };
                view.value = 'list';
                searchQuery.value = '';
            };

            const goHome = () => {
                if (view.value === 'list' && activeCategory.value.id.startsWith('travel_')) {
                    view.value = 'sub_category';
                    activeCategory.value = categories.find(c => c.id === 'travel');
                    return;
                }
                view.value = 'home';
                searchQuery.value = '';
                speakingItem.value = null;
            };

            const triggerAizuchi = (event) => {
                const list = DB.aizuchi_random;
                const item = list[Math.floor(Math.random() * list.length)];
                lastAizuchi.value = item;
                speak(item);
            };

                        const speak = (item, event) => {
                // Stop previous speech & hide toast if any
                window.speechSynthesis.cancel();
                toast.value.show = false;

                // If clicking same item again, just stop.
                if (speakingItem.value === item.romaji) {
                    speakingItem.value = null;
                    return;
                }

                speakingItem.value = item.romaji;
                
                // Special logic for Food Dish: Speak Japanese then English Description
                if (activeCategory.value.id === 'food' && item.isDish && item.desc_en) {
                    // 1. Japanese
                    const uttrJa = new SpeechSynthesisUtterance(item.japanese);
                    uttrJa.lang = 'ja-JP';
                    uttrJa.rate = 1.0;
                    
                    uttrJa.onend = () => {
                         // Check if still active (user hasn't clicked another)
                         if (speakingItem.value !== item.romaji) return;

                         // 2. English Description with Toast
                         const uttrEn = new SpeechSynthesisUtterance(item.desc_en);
                         uttrEn.lang = 'en-US';
                         uttrEn.rate = 1.0;
                         
                         // Show toast with full description
                         toast.value = { show: true, text: item.desc_en, sub: item.japanese };

                         uttrEn.onend = () => { 
                             speakingItem.value = null; 
                             toast.value.show = false;
                         };
                         
                         window.speechSynthesis.speak(uttrEn);
                    };
                    window.speechSynthesis.speak(uttrJa);
                    return;
                }

                const uttr = new SpeechSynthesisUtterance(item.japanese);
                uttr.lang = 'ja-JP';
                uttr.rate = 1.0; 
                uttr.onend = () => { speakingItem.value = null; };
                window.speechSynthesis.speak(uttr);
            };

            // iOS Audio Unlock
            const unlockAudio = () => {
                const b = new SpeechSynthesisUtterance('');
                window.speechSynthesis.speak(b);
                document.body.removeEventListener('touchstart', unlockAudio);
                document.body.removeEventListener('click', unlockAudio);
            };
                        document.body.addEventListener('touchstart', unlockAudio);
            document.body.addEventListener('click', unlockAudio);

                        return {
                view, categories, activeCategory, searchQuery, filteredPhrases, travelSubCategories, toast,
                selectCategory, selectSubCategory, goHome, speak, speakingItem, triggerAizuchi, lastAizuchi
            };
        }
    }).mount('#app');
</script>







<script id="lfs-meta" type="application/json">
{
  "appId": "712fefc73a8b9ed14d6b160359969013",
  "createdAt": "2026-01-13T13:08:23.394Z",
  "schema": 2,
  "title": "Steelearner 2.0 - Molten Edition",
  "savedAt": "2026-01-13T14:42:24.760Z",
  "aiInstruction": "Food に限定し、タップするとそのフードの説明を、英語で読み上げる機能を実装。ジョークではなく、まじめに。\n\nFoodカテゴリの、「食べ物」を指すワードだけ、日本語の食べ物名を発話したあと、その食べ物の簡潔な説明を読み上げる。その読み上げ原稿の、英文と、日本語は、トーストでさりげなく表示する。食べ物以外の、ワードではこの機能は不要です。\n\n食べ物の日本語単語音読あとの英文説明の読み上げは、「単なる、表示されている英文役の読み上げ」ではなく、どんな食べ物で、どういうおいしさがあり、どんな時に食べられるか、といった、文化に根差した説明を英語でしてください。トーストは、その説明が読み上げられている間だけ表示してください。読み上げ中に画面が押された場合は中断とします。",
  "comment": "Food に限定し、タップするとそのフードの説明を、英語で読み上げる機能を実装。ジョークではなく、まじめに。\n\nFoodカテゴリの、「食べ物」を指すワードだけ、日本語の食べ物名を発話したあと、その食べ物の簡潔な説明を読み上げる。その読み上げ原稿の、英文と、日本語は、トーストでさりげなく表示する。食べ物以外の、ワードではこの機能は不要です。\n\n食べ物の日本語単語音読あとの英文説明の読み上げは、「単なる、表示されている英文役の読み上げ」ではなく、どんな食べ物で、どういうおいしさがあり、どんな時に食べられるか、といった、文化に根差した説明を英語でしてください。トーストは、その説明が読み上げられている間だけ表示してください。読み上げ中に画面が押された場合は中断とします。",
  "sourceMode": "project",
  "runId": "fecf67e7178e18ca773f615a89512e40"
}
</script>
</body>
</html>
