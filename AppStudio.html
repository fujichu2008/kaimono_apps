<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Steelearner 2.0 - Molten Edition</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/vue@3/dist/vue.global.prod.js"></script>
    <script src="https://unpkg.com/@phosphor-icons/web"></script>
    <style>
        /* --- CORE VARIABLES --- */
        :root {
            --magma-orange: #ff4500;
            --steel-blue: #a0b0c0;
            --carbon-black: #080808;
            --panel-bg: rgba(20, 20, 25, 0.65);
        }

        body {
            background-color: var(--carbon-black);
            color: #e0e0e0;
            font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace; /* Industrial Font */
            -webkit-tap-highlight-color: transparent;
            overflow-x: hidden;
            perspective: 1000px;
        }

        /* --- DYNAMIC MOLTEN BACKGROUND --- */
        .bg-molten {
            position: fixed;
            inset: 0;
            z-index: -1;
            background: 
                /* Mesh Overlay */
                radial-gradient(transparent 0%, #000 100%),
                repeating-linear-gradient(0deg, transparent, transparent 1px, #000 1px, #000 2px),
                /* Heat Source */
                radial-gradient(circle at 50% 120%, rgba(255, 69, 0, 0.4), transparent 60%),
                linear-gradient(135deg, #0f0f0f 0%, #1a1a1a 50%, #050505 100%);
            background-size: 100% 100%, 100% 4px, 100% 100%, 400% 400%;
            animation: heat-pulse 8s ease-in-out infinite alternate;
        }

        /* Moving heat glow */
        @keyframes heat-pulse {
            0% { background-position: 0 0, 0 0, 50% 120%, 0% 50%; }
            100% { background-position: 0 0, 0 0, 50% 110%, 100% 50%; }
        }

        /* Scanline Overlay (Cool Tech Feel) */
        .scanlines {
            position: fixed;
            inset: 0;
            background: linear-gradient(rgba(18, 16, 16, 0) 50%, rgba(0, 0, 0, 0.25) 50%), linear-gradient(90deg, rgba(255, 0, 0, 0.06), rgba(0, 255, 0, 0.02), rgba(0, 0, 255, 0.06));
            background-size: 100% 2px, 3px 100%;
            z-index: 9999;
            pointer-events: none;
            opacity: 0.6;
        }

        /* --- 3D STEEL PLATE CARDS --- */
        .steel-plate {
            background: linear-gradient(145deg, rgba(40,40,45,0.9), rgba(20,20,22,0.95));
            border: 1px solid rgba(255,255,255,0.08);
            border-top: 1px solid rgba(255,255,255,0.2); /* Highlight */
            border-radius: 12px;
            backdrop-filter: blur(8px);
            
            /* Deep Industrial Shadow */
            box-shadow: 
                0 10px 20px -5px rgba(0,0,0,0.8),
                0 0 0 1px rgba(0,0,0,0.5),
                inset 0 1px 0 rgba(255,255,255,0.1);
            
            transform: translateZ(0);
            transition: all 0.2s cubic-bezier(0.25, 0.46, 0.45, 0.94);
            position: relative;
            overflow: hidden;
        }

        /* Hover Effect (Desktop) */
        @media (hover: hover) {
            .steel-plate:hover {
                transform: translateY(-4px) scale(1.02);
                border-color: rgba(255,255,255,0.3);
                box-shadow: 
                    0 15px 30px -5px rgba(0,0,0,0.9),
                    0 0 15px var(--glow-color, rgba(255,255,255,0.1));
            }
        }

        /* Active / Pressed (Heat Reaction) */
        .steel-plate:active {
            transform: translateY(2px) scale(0.98);
            background: linear-gradient(145deg, #1a1a1a, #0d0d0d);
            border-color: var(--magma-orange);
            box-shadow: 
                inset 0 0 15px rgba(255, 69, 0, 0.3),
                0 2px 5px rgba(0,0,0,1);
        }

        .steel-plate:active i {
            color: var(--magma-orange) !important;
            filter: drop-shadow(0 0 8px var(--magma-orange));
        }

        /* --- ANIMATED CORE SPINNER --- */
        .reactor-core {
            position: relative;
            width: 40px;
            height: 40px;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        .reactor-ring {
            position: absolute;
            width: 100%;
            height: 100%;
            border: 2px dashed #f97316;
            border-radius: 50%;
            animation: spin-reactor 10s linear infinite;
        }
        .reactor-center {
            animation: pulse-core 2s ease-in-out infinite;
        }
        @keyframes spin-reactor { 100% { transform: rotate(360deg); } }
        @keyframes pulse-core { 0%, 100% { opacity: 0.6; transform: scale(0.9); } 50% { opacity: 1; transform: scale(1.1); } }

        /* --- SPEAKING PULSE --- */
        .speaking-active {
            border-color: #f97316 !important;
            box-shadow: 0 0 20px rgba(249, 115, 22, 0.5), inset 0 0 20px rgba(249, 115, 22, 0.2) !important;
            transform: translateY(1px);
        }

        /* Scrollbar Hide */
        .no-scrollbar::-webkit-scrollbar { display: none; }
        .no-scrollbar { -ms-overflow-style: none; scrollbar-width: none; }

        /* Vue Transitions */
        .blast-enter-active, .blast-leave-active { transition: all 0.3s cubic-bezier(0.19, 1, 0.22, 1); }
        .blast-enter-from { opacity: 0; transform: scale(0.8) translateY(30px); filter: blur(4px); }
        .blast-leave-to { opacity: 0; transform: scale(1.1); filter: blur(4px); }
    </style>
</head>
<body class="min-h-screen flex flex-col">

    <div class="bg-molten"></div>
    <div class="scanlines"></div>

<div id="app" class="flex-1 flex flex-col max-w-md mx-auto w-full relative z-10">

    <header class="sticky top-0 z-50 bg-[#0a0a0a]/80 backdrop-blur-xl border-b border-gray-800 p-4 flex justify-between items-center shadow-lg">
        <div class="flex items-center gap-4" @click="goHome">
            <div class="reactor-core">
                <div class="reactor-ring"></div>
                <i class="ph-fill ph-hexagon text-orange-600 text-2xl reactor-center"></i>
            </div>
                                                <div>
                <h1 class="text-xl font-black tracking-tighter italic leading-none text-gray-100" style="text-shadow: 0 2px 4px rgba(0,0,0,0.8);">
                    STEELEARNER
                    <span class="inline-block align-middle text-[0.4rem] font-mono text-gray-600 border border-gray-800 rounded px-1 ml-1 not-italic tracking-normal opacity-50 uppercase translate-y-[-2px]">Private Use Only</span>
                                        <span class="text-[0.65rem] font-bold text-orange-500 not-italic block tracking-[0.2em] uppercase mt-1">Japanese Audio Flashcards</span>
                </h1>
            </div>
        </div>
        <button v-if="view !== 'home'" @click="goHome" class="steel-plate w-10 h-10 flex items-center justify-center text-gray-400 hover:text-white transition-colors">
            <i class="ph-bold ph-squares-four text-xl"></i>
        </button>
    </header>

    <main class="flex-1 p-4 overflow-y-auto no-scrollbar pb-24">

        <transition name="blast" mode="out-in">
            
                                    <div v-if="view === 'home'" class="grid grid-cols-2 gap-4 perspective-[800px]">
                <div v-for="cat in categories" :key="cat.id" @click="selectCategory(cat)"
                     class="steel-plate aspect-[1.1] flex flex-col items-center justify-center text-center p-3 cursor-pointer group" 
                     :style="{ '--glow-color': cat.glow }">
                    
                    <div class="absolute inset-0 opacity-20 bg-gradient-to-br from-transparent to-black rounded-lg"></div>
                    
                    <i :class="`${cat.icon} text-5xl mb-3 ${cat.color} drop-shadow-[0_4px_8px_rgba(0,0,0,0.8)] transition-all duration-300 group-hover:scale-110`"></i>
                    <h2 class="font-black text-lg tracking-wider text-gray-200 uppercase" style="text-shadow: 0 2px 4px #000;">{{ cat.label }}</h2>
                    <p class="text-[10px] text-gray-400 font-mono mt-1 uppercase tracking-widest opacity-70">{{ cat.desc }}</p>
                </div>
            </div>

            <div v-else-if="view === 'list'" class="space-y-5">
                
                <div class="flex items-center gap-4 mb-6 p-4 rounded-xl border border-dashed border-gray-700 bg-black/40 backdrop-blur-sm">
                    <div class="p-3 rounded-lg bg-[#151515] border border-gray-600 shadow-[inset_0_2px_4px_rgba(0,0,0,1)]">
                        <i :class="`${activeCategory.icon} text-3xl ${activeCategory.color}`"></i>
                    </div>
                    <div>
                        <h2 class="text-2xl font-black uppercase tracking-tight text-white">{{ activeCategory.label }}</h2>
                        <div class="flex items-center gap-2">
                            <span class="w-2 h-2 rounded-full bg-green-500 animate-pulse"></span>
                            <p class="text-xs text-gray-400 font-mono tracking-widest">SYSTEM ACTIVE</p>
                        </div>
                    </div>
                </div>

                <div class="relative group">
                    <i class="ph ph-magnifying-glass absolute left-4 top-1/2 -translate-y-1/2 text-gray-500 group-focus-within:text-orange-500 transition-colors"></i>
                    <input type="text" v-model="searchQuery" placeholder="ACCESS DATABASE..." 
                           class="w-full bg-[#080808] border border-gray-700 rounded-xl py-4 pl-12 pr-4 text-sm font-mono text-gray-200 shadow-[inset_2px_2px_8px_rgba(0,0,0,0.8)] focus:outline-none focus:border-orange-500 focus:shadow-[0_0_15px_rgba(249,115,22,0.2)] transition-all placeholder-gray-700">
                </div>

                                <transition-group name="blast" tag="div" class="space-y-3">
                    <div v-for="item in filteredPhrases" :key="item.romaji" @click="speak(item, $event)"
                         :class="{'speaking-active': speakingItem === item.romaji}"
                         class="steel-plate p-4 cursor-pointer flex justify-between items-start group transition-all duration-300">
                        
                        <div class="relative z-10 flex-1 pr-2">
                            <div class="text-[9px] font-bold text-gray-500 mb-1 font-mono uppercase tracking-widest border border-gray-700 inline-block px-1 rounded bg-black/30">{{ item.tags || activeCategory.id }}</div>
                            <h3 class="text-xl font-bold text-gray-100 mb-1 tracking-tight leading-tight">{{ item.romaji }}</h3>
                            <p class="text-sm text-gray-400 italic mb-2">{{ item.english }}</p>
                            
                            
                            <div v-if="item.nuance" class="mt-1 pt-1 border-t border-dashed border-gray-800/50">
                                <p class="text-[10px] text-gray-500 font-mono leading-snug group-hover:text-steel-blue transition-colors">
                                    <span class="text-orange-900/80 mr-1 text-[9px] select-none">>></span>{{ item.nuance }}
                                </p>
                            </div>
                        </div>

                        <div class="text-right pl-2 relative z-10 flex-shrink-0">
                            <p class="text-lg font-bold text-gray-300 opacity-90 leading-tight" style="text-shadow: 0 1px 2px black;">{{ item.japanese }}</p>
                            <div class="mt-3 w-10 h-10 rounded-full bg-[#111] border border-gray-700 flex items-center justify-center shadow-[inset_0_2px_5px_rgba(0,0,0,1)] group-active:bg-orange-900/30 transition-colors ml-auto group-hover:border-gray-500">
                                <i class="ph-fill ph-speaker-high text-gray-500 group-hover:text-orange-500 transition-colors text-lg"></i>
                            </div>
                        </div>
                        
                        <div class="absolute inset-0 bg-gradient-to-r from-orange-900/0 via-orange-500/0 to-orange-500/0 group-active:via-orange-500/10 transition-all duration-300"></div>
                    </div>
                </transition-group>
                
                <div v-if="filteredPhrases.length === 0" class="text-center py-12 opacity-40 font-mono">
                    <i class="ph ph-warning text-4xl mb-2 text-red-500"></i>
                    <p class="tracking-widest">NO DATA FOUND</p>
                </div>
            </div>

            <div v-else-if="view === 'aizuchi'" class="flex flex-col items-center justify-center h-[70vh]">
                <div class="text-center mb-10">
                    <h2 class="text-4xl font-black text-teal-500 tracking-tighter drop-shadow-lg">AIZUCHI <span class="text-gray-600">OS</span></h2>
                    <p class="text-[10px] text-teal-400/60 font-mono mt-2 tracking-[0.3em]">AUTO-RESPONSE SYSTEM V2.0</p>
                </div>

                <button @mousedown="triggerAizuchi($event)" @touchstart.prevent="triggerAizuchi($event)"
                        class="steel-plate w-64 h-64 rounded-full border-4 border-teal-900/50 shadow-[0_0_60px_rgba(20,184,166,0.1)] active:scale-95 flex flex-col items-center justify-center relative overflow-hidden group transition-all duration-100 active:border-teal-400">
                    
                    <div class="absolute inset-0 bg-[conic-gradient(from_0deg,transparent_0deg,rgba(20,184,166,0.2)_360deg)] animate-[spin_4s_linear_infinite] opacity-50"></div>
                    
                    <i class="ph-fill ph-chats text-8xl text-teal-600 mb-2 drop-shadow-[0_0_15px_rgba(20,184,166,0.5)] group-active:text-teal-200 group-active:scale-110 transition-all relative z-10"></i>
                    <span class="font-bold text-teal-200 tracking-widest text-xs relative z-10 border border-teal-800 px-3 py-1 rounded bg-black/40">TAP TO NOD</span>
                </button>

                <div class="mt-12 h-20 text-center w-full max-w-xs">
                    <transition name="blast">
                        <div v-if="lastAizuchi" class="steel-plate px-8 py-4 rounded-xl inline-block border-teal-900/50">
                            <span class="text-2xl font-bold text-white mr-2 block">"{{ lastAizuchi.romaji }}"</span>
                            <span class="text-xs text-teal-400 font-mono tracking-wider">{{ lastAizuchi.english }}</span>
                        </div>
                    </transition>
                </div>
            </div>
        </transition>
    </main>

        <footer class="bg-[#020202] border-t border-gray-900 p-4 text-center z-10 space-y-2">
        <p class="text-[9px] text-gray-600 font-mono tracking-[0.2em] uppercase">Forged by Hisa</p>
        <div class="opacity-30 hover:opacity-100 transition-opacity duration-500">
            <p class="text-[8px] text-orange-900 font-mono uppercase tracking-[0.3em]">Forged by Hisa</p>
        </div>
    </footer>

</div>

<script>
    const { createApp, ref, computed } = Vue;

    // --- DATASET ---
// --- DATASET ---
// --- DATASET ---
// --- DATASET ---
// --- DATASET ---
    const DB = {
        steel: [
            { japanese: 'ご安全に！', romaji: 'Go-Anzen-ni!', english: 'Safety First!' },
            { japanese: '現場', romaji: 'Genba', english: 'The Field / Site' },
            { japanese: '高炉', romaji: 'Ko-ro', english: 'Blast Furnace' },
            { japanese: '転炉', romaji: 'Ten-ro', english: 'Basic Oxygen Furnace' },
            { japanese: '品質第一', romaji: 'Hinshitsu Dai-ichi', english: 'Quality First' },
            { japanese: '歩留まり', romaji: 'Bu-do-mari', english: 'Yield Rate' },
            { japanese: '圧延', romaji: 'Atsu-en', english: 'Rolling' },
            { japanese: '納期遵守', romaji: 'Noki Junshu', english: 'Strict Deadline' },
            { japanese: 'KY（危険予知）', romaji: 'K-Y', english: 'Hazard Prediction' },
            { japanese: '指差し確認', romaji: 'Yubisashi Kakunin', english: 'Point & Call' },
            { japanese: '鉄は国家なり', romaji: 'Tetsu wa Kokka nari', english: 'Steel is the Nation' },
            { japanese: 'ヘルメットよし！', romaji: 'Helmet Yoshi!', english: 'Helmet Check!' },
            { japanese: '立ち入り禁止', romaji: 'Tachi-iri Kinshi', english: 'Keep Out' },
            { japanese: 'ゼロ災', romaji: 'Zerosai', english: 'Zero Accidents' },
            { japanese: '整理整頓', romaji: 'Seiri Seiton', english: 'Organize & Tidy' },
            { japanese: '5S', romaji: 'Go-Esu', english: '5S System' },
            { japanese: '報連相', romaji: 'Ho-Ren-So', english: 'Report/Communicate' },
            { japanese: '可動率', romaji: 'Kado-ritsu', english: 'Availability' },
            { japanese: '在庫', romaji: 'Zaiko', english: 'Inventory' },
            { japanese: '玉掛け', romaji: 'Tamagake', english: 'Slinging' },
            { japanese: 'クレーン', romaji: 'Crane', english: 'Crane' },
            { japanese: '定修', romaji: 'Teishu', english: 'Scheduled Repair' },
            { japanese: '突発', romaji: 'Toppatsu', english: 'Sudden Failure' },
            { japanese: '改善', romaji: 'Kaizen', english: 'Continuous Improvement' },
            { japanese: '朝礼', romaji: 'Chorei', english: 'Morning Meeting' },
            { japanese: '日報', romaji: 'Nippo', english: 'Daily Report' },
            { japanese: 'スラグ', romaji: 'Slag', english: 'Slag' },
            { japanese: '溶鋼', romaji: 'Yoko', english: 'Molten Steel' },
            { japanese: '点検', romaji: 'Tenken', english: 'Inspection' },
            { japanese: '保護具', romaji: 'Hogogu', english: 'PPE' },
            { japanese: 'フォークリフト', romaji: 'Forklift', english: 'Forklift' },
            { japanese: 'コークス', romaji: 'Cokes', english: 'Coke' },
            { japanese: '鉄鉱石', romaji: 'Tekkoseki', english: 'Iron Ore' },
            { japanese: 'スクラップ', romaji: 'Scrap', english: 'Scrap' },
            { japanese: '酸洗', romaji: 'San-sen', english: 'Pickling' },
            { japanese: '亜鉛メッキ', romaji: 'Aen-Mekki', english: 'Galvanizing' },
            { japanese: '不適合', romaji: 'Futekigo', english: 'Non-conformance' },
            { japanese: 'ヒヤリハット', romaji: 'Hiyari-Hatto', english: 'Near Miss' },
            { japanese: '熱中症', romaji: 'Netchusho', english: 'Heat Stroke' },
            { japanese: '連続鋳造', romaji: 'Ren-chu', english: 'Continuous Casting' },
            { japanese: '厚板', romaji: 'Atsu-ita', english: 'Heavy Plate' },
            { japanese: '薄板', romaji: 'Usu-ita', english: 'Sheet Steel' },
            { japanese: '安全靴', romaji: 'Anzen-gutsu', english: 'Safety Shoes' },
            { japanese: '耳栓', romaji: 'Mimisen', english: 'Earplugs' },
            { japanese: '防塵マスク', romaji: 'Bojin-Mask', english: 'Dust Mask' }
        ],
        business: [
            { japanese: 'お疲れ様です', romaji: 'Otsukaresama', english: 'Good work' },
            { japanese: '承知しました', romaji: 'Shochi shimashita', english: 'Understood' },
            { japanese: 'よろしくお願いします', romaji: 'Yoroshiku Onegaishimasu', english: 'I rely on you' },
            { japanese: '前向きに検討します', romaji: 'Maemuki ni Kento', english: 'Consider positively' },
            { japanese: 'たたき台', romaji: 'Tataki-dai', english: 'Draft / Strawman' },
            { japanese: '落とし所', romaji: 'Otoshi-dokoro', english: 'Compromise Point' },
            { japanese: '根回し', romaji: 'Nemawashi', english: 'Laying Groundwork' },
            { japanese: '弊社', romaji: 'Heisha', english: 'My Company' },
            { japanese: '御社', romaji: 'Onsha', english: 'Your Company' },
            { japanese: '名刺交換', romaji: 'Meishi Kokan', english: 'Card Exchange' },
            { japanese: '上座・下座', romaji: 'Kamiza / Shimoza', english: 'Seat of Honor/Lowest' },
            { japanese: '議事録', romaji: 'Gijiroku', english: 'Meeting Minutes' },
            { japanese: 'なるはや', romaji: 'Naruhaya', english: 'ASAP' },
            { japanese: '直帰', romaji: 'Chokki', english: 'Go home directly' },
            { japanese: '出向', romaji: 'Shukko', english: 'Secondment' },
            { japanese: '転勤', romaji: 'Tenkin', english: 'Job Transfer' },
            { japanese: 'お世話になっております', romaji: 'Osewa ni natte...', english: 'Thank you for support' },
            { japanese: '恐れ入ります', romaji: 'Osore-irimasu', english: 'I beg your pardon' },
            { japanese: '定時', romaji: 'Teiji', english: 'Knock-off time' },
            { japanese: '残業', romaji: 'Zangyo', english: 'Overtime' },
            { japanese: '有給', romaji: 'Yukyu', english: 'Paid Leave' },
            { japanese: '会議', romaji: 'Kaigi', english: 'Meeting' },
            { japanese: '課長・部長', romaji: 'Kacho / Bucho', english: 'Manager / Director' },
            { japanese: '相見積もり', romaji: 'Ai-mitsumori', english: 'Competitive Quotes' },
            { japanese: '納期遅延', romaji: 'Noki Chien', english: 'Delivery Delay' },
            { japanese: '検収', romaji: 'Kenshu', english: 'Inspection/Acceptance' },
            { japanese: '予算', romaji: 'Yosan', english: 'Budget' },
            { japanese: '契約書', romaji: 'Keiyakusho', english: 'Contract' },
            { japanese: '判子', romaji: 'Hanko', english: 'Personal Seal' },
            { japanese: '電子承認', romaji: 'Denshi Shonin', english: 'E-Approval' },
            { japanese: 'コスト削減', romaji: 'Cost Sakugen', english: 'Cost Reduction' },
            { japanese: '仕様書', romaji: 'Shiyosho', english: 'Spec Sheet' },
            { japanese: '発注', romaji: 'Hatchu', english: 'Placing Order' },
            { japanese: '請求書', romaji: 'Seikyusho', english: 'Invoice' },
            { japanese: '領収書', romaji: 'Ryoshusho', english: 'Receipt' },
            { japanese: '経費精算', romaji: 'Keihi Seisan', english: 'Expense Report' },
            { japanese: '出張', romaji: 'Shutcho', english: 'Business Trip' },
            { japanese: '手土産', romaji: 'Temiyage', english: 'Souvenir/Gift' },
            { japanese: 'ご足労', romaji: 'Gosokuro', english: 'Trouble of coming' },
            { japanese: '勉強します', romaji: 'Benkyo Shimasu', english: 'I will study (discount)' },
            { japanese: '折り返し', romaji: 'Orikaeshi', english: 'Call back' },
            { japanese: '席を外しております', romaji: 'Seki wo hazushite...', english: 'Not at desk' }
        ],
        nomikai: [
            { japanese: '乾杯！', romaji: 'Kanpai!', english: 'Cheers!' },
            { japanese: 'とりあえずビール', romaji: 'Toriaezu Beer', english: 'Beer for now' },
            { japanese: '無礼講', romaji: 'Bureiko', english: 'Rank aside' },
            { japanese: '締め（しめ）', romaji: 'Shime', english: 'The Wrap Up' },
            { japanese: '一本締め', romaji: 'Ippon-jime', english: 'One Clap' },
            { japanese: '割り勘', romaji: 'Warikan', english: 'Split the bill' },
            { japanese: '飲み放題', romaji: 'Nomihodai', english: 'All you can drink' },
            { japanese: '二次会', romaji: 'Nijikai', english: 'After-party' },
            { japanese: '二日酔い', romaji: 'Futsukayoi', english: 'Hangover' },
            { japanese: '枝豆', romaji: 'Edamame', english: 'Edamame' },
            { japanese: '唐揚げ', romaji: 'Kara-age', english: 'Fried Chicken' },
            { japanese: 'お酌', romaji: 'Oshaku', english: 'Pouring drink' },
            { japanese: 'ハイボール', romaji: 'Highball', english: 'Whisky Soda' },
            { japanese: '日本酒', romaji: 'Nihonshu', english: 'Sake' },
            { japanese: '焼酎', romaji: 'Shochu', english: 'Distilled Spirit' },
            { japanese: 'ラストオーダー', romaji: 'Last Order', english: 'Last Order' },
            { japanese: 'お冷（おひや）', romaji: 'Ohiya', english: 'Water' },
            { japanese: 'チェイサー', romaji: 'Chaser', english: 'Water back' },
            { japanese: '熱燗', romaji: 'Atsukan', english: 'Hot Sake' },
            { japanese: '冷酒', romaji: 'Reishu', english: 'Cold Sake' },
            { japanese: 'ロックで', romaji: 'Rock de', english: 'On the rocks' },
            { japanese: '水割り', romaji: 'Mizuwari', english: 'Water mix' },
            { japanese: 'お通し', romaji: 'Otoshi', english: 'Appetizer charge' },
            { japanese: '席替え', romaji: 'Sekigae', english: 'Seat change' },
            { japanese: '一気飲み', romaji: 'Ikki', english: 'Chug!' },
            { japanese: '介抱', romaji: 'Kaiho', english: 'Nursing' },
            { japanese: '終電逃した', romaji: 'Shuden Nogashita', english: 'Missed last train' }
        ],
        food: [
            { japanese: 'いただきます', romaji: 'Itadakimasu', english: 'Bon appétit' },
            { japanese: 'ごちそうさま', romaji: 'Gochisosama', english: 'Thank you for meal' },
            { japanese: '美味しい', romaji: 'Oishii', english: 'Delicious' },
            { japanese: 'お任せ', romaji: 'Omakase', english: 'Chef\'s Choice' },
            { japanese: '替え玉', romaji: 'Kaedama', english: 'Noodle Refill' },
            { japanese: '別腹', romaji: 'Betsubara', english: 'Separate Stomach' },
            { japanese: '猫舌', romaji: 'Neko-jita', english: 'Cat Tongue' },
            { japanese: 'もちもち', romaji: 'Mochi-Mochi', english: 'Chewy/Soft' },
            { japanese: '旬', romaji: 'Shun', english: 'In Season' },
            { japanese: '取り皿', romaji: 'Torizara', english: 'Small Plate' },
            { japanese: 'おしぼり', romaji: 'Oshibori', english: 'Wet Towel' },
            { japanese: '居酒屋', romaji: 'Izakaya', english: 'Japanese Pub' },
            { japanese: '焼き鳥', romaji: 'Yakitori', english: 'Grilled Chicken' },
            { japanese: '刺身', romaji: 'Sashimi', english: 'Raw Fish' },
            { japanese: '醤油', romaji: 'Shoyu', english: 'Soy Sauce' },
            { japanese: 'わさび', romaji: 'Wasabi', english: 'Horseradish' },
            { japanese: '定食', romaji: 'Teishoku', english: 'Set Meal' },
            { japanese: 'おにぎり', romaji: 'Onigiri', english: 'Rice Ball' },
            { japanese: '弁当', romaji: 'Bento', english: 'Box Lunch' },
            { japanese: '大盛り', romaji: 'Omori', english: 'Large Portion' },
            { japanese: '激辛', romaji: 'Gekikara', english: 'Super Spicy' },
            { japanese: '回転寿司', romaji: 'Kaiten-Sushi', english: 'Conveyor Sushi' },
            { japanese: '食感', romaji: 'Shokkan', english: 'Texture' },
            { japanese: 'うま味', romaji: 'Umami', english: 'Savory Taste' },
            { japanese: '行列', romaji: 'Gyoretsu', english: 'Line/Queue' },
            { japanese: '和牛', romaji: 'Wagyu', english: 'Wagyu Beef' },
            { japanese: '神戸牛', romaji: 'Kobe-Gyu', english: 'Kobe Beef' },
            { japanese: 'ラーメン', romaji: 'Ramen', english: 'Ramen' },
            { japanese: '豚骨', romaji: 'Tonkotsu', english: 'Pork Bone Broth' },
            { japanese: '天ぷら', romaji: 'Tempura', english: 'Tempura' },
            { japanese: 'すき焼き', romaji: 'Sukiyaki', english: 'Sukiyaki' },
            { japanese: 'しゃぶしゃぶ', romaji: 'Shabu-Shabu', english: 'Shabu-Shabu' },
            { japanese: 'お好み焼き', romaji: 'Okonomiyaki', english: 'Okonomiyaki' },
            { japanese: 'たこ焼き', romaji: 'Takoyaki', english: 'Octopus Balls' },
            { japanese: 'うなぎ', romaji: 'Unagi', english: 'Eel' },
            { japanese: 'うどん', romaji: 'Udon', english: 'Udon' },
            { japanese: 'そば', romaji: 'Soba', english: 'Soba' },
            { japanese: 'カレーライス', romaji: 'Curry Rice', english: 'Curry Rice' },
            { japanese: 'カツ丼', romaji: 'Katsudon', english: 'Pork Cutlet Bowl' },
            { japanese: '牛丼', romaji: 'Gyudon', english: 'Beef Bowl' },
            { japanese: '抹茶', romaji: 'Matcha', english: 'Green Tea' },
            { japanese: '大福', romaji: 'Daifuku', english: 'Mochi Sweet' },
            { japanese: 'デパ地下', romaji: 'Depachika', english: 'Dept Store Basement' },
            { japanese: 'コンビニ', romaji: 'Konbini', english: 'Convenience Store' },
            { japanese: '純米酒', romaji: 'Junmai', english: 'Pure Rice Sake' },
            { japanese: '大吟醸', romaji: 'Daiginjo', english: 'Premium Sake' },
            { japanese: '芋焼酎', romaji: 'Imo-Shochu', english: 'Potato Spirit' },
            { japanese: '麦焼酎', romaji: 'Mugi-Shochu', english: 'Barley Spirit' },
            { japanese: 'レモンサワー', romaji: 'Lemon Sour', english: 'Lemon Chu-Hi' },
            { japanese: '餃子', romaji: 'Gyoza', english: 'Dumplings' },
            { japanese: 'マグロ', romaji: 'Maguro', english: 'Tuna' },
            { japanese: 'トロ', romaji: 'Toro', english: 'Fatty Tuna' },
            { japanese: 'ウニ', romaji: 'Uni', english: 'Sea Urchin' },
            { japanese: 'サーモン', romaji: 'Salmon', english: 'Salmon' },
            { japanese: '納豆', romaji: 'Natto', english: 'Fermented Beans' },
            { japanese: '味噌汁', romaji: 'Miso Shiru', english: 'Miso Soup' }
        ],
        culture: [
            { japanese: 'もったいない', romaji: 'Mottainai', english: 'Wasteful' },
            { japanese: '武士道', romaji: 'Bushido', english: 'Way of Warrior' },
            { japanese: 'カワイイ', romaji: 'Kawaii', english: 'Cute' },
            { japanese: 'わびさび', romaji: 'Wabi-Sabi', english: 'Beauty in imperfection' },
            { japanese: '推し', romaji: 'Oshi', english: 'My Fav / Stan' },
            { japanese: 'オタク', romaji: 'Otaku', english: 'Geek / Enthusiast' },
            { japanese: '義理', romaji: 'Giri', english: 'Duty / Obligation' },
            { japanese: 'おもてなし', romaji: 'Omotenashi', english: 'Hospitality' },
            { japanese: '以心伝心', romaji: 'Ishin-denshin', english: 'Telepathy' },
            { japanese: 'ガマン', romaji: 'Gaman', english: 'Endurance' },
            { japanese: '温泉', romaji: 'Onsen', english: 'Hot Spring' },
            { japanese: '畳', romaji: 'Tatami', english: 'Straw Mat' },
            { japanese: '土足厳禁', romaji: 'Dosoku Genkin', english: 'No Shoes' },
            { japanese: '玄関', romaji: 'Genkan', english: 'Entrance' },
            { japanese: '神社', romaji: 'Jinja', english: 'Shrine' },
            { japanese: 'お寺', romaji: 'Otera', english: 'Temple' },
            { japanese: '桜', romaji: 'Sakura', english: 'Cherry Blossom' },
            { japanese: '紅葉', romaji: 'Koyo', english: 'Autumn Leaves' },
            { japanese: '先輩・後輩', romaji: 'Senpai/Kohai', english: 'Senior/Junior' },
            { japanese: '空気を読む', romaji: 'Kuuki wo yomu', english: 'Read the air' },
            { japanese: 'お辞儀', romaji: 'Ojigi', english: 'Bow' },
            { japanese: '正座', romaji: 'Seiza', english: 'Kneeling' },
            { japanese: '本音と建前', romaji: 'Honne / Tatemae', english: 'True feeling / Public face' },
            { japanese: '花見', romaji: 'Hanami', english: 'Flower Viewing' },
            { japanese: '祭り', romaji: 'Matsuri', english: 'Festival' },
            { japanese: '着物', romaji: 'Kimono', english: 'Kimono' },
            { japanese: '浴衣', romaji: 'Yukata', english: 'Light Kimono' },
            { japanese: '侍', romaji: 'Samurai', english: 'Samurai' },
            { japanese: '忍者', romaji: 'Ninja', english: 'Ninja' },
            { japanese: '盆踊り', romaji: 'Bon Odori', english: 'Bon Dance' }
        ],
        travel: [
            { japanese: '東京駅まで', romaji: 'Tokyo Eki made', english: 'To Tokyo Station' },
            { japanese: 'コンビニ', romaji: 'Konbini', english: 'Convenience Store' },
            { japanese: 'トイレどこ？', romaji: 'Toilet doko?', english: 'Where is toilet?' },
            { japanese: '満員電車', romaji: 'Man-in Densha', english: 'Packed Train' },
            { japanese: '新幹線', romaji: 'Shinkansen', english: 'Bullet Train' },
            { japanese: '切符', romaji: 'Kippu', english: 'Ticket' },
            { japanese: '改札', romaji: 'Kaisatsu', english: 'Ticket Gate' },
            { japanese: 'チャージ', romaji: 'Charge', english: 'Top up' },
            { japanese: '指定席', romaji: 'Shitei-seki', english: 'Reserved Seat' },
            { japanese: '自由席', romaji: 'Jiyu-seki', english: 'Non-reserved' },
            { japanese: '乗り換え', romaji: 'Norikae', english: 'Transfer' },
            { japanese: '終電', romaji: 'Shuden', english: 'Last Train' },
            { japanese: '各駅停車', romaji: 'Kakueki', english: 'Local Train' },
            { japanese: '快速', romaji: 'Kaisoku', english: 'Rapid Train' },
            { japanese: '出口', romaji: 'Deguchi', english: 'Exit' },
            { japanese: '入口', romaji: 'Iriguchi', english: 'Entrance' },
            { japanese: 'コインロッカー', romaji: 'Coin Locker', english: 'Lockers' },
            { japanese: '地図', romaji: 'Chizu', english: 'Map' },
            { japanese: '真っ直ぐ', romaji: 'Massugu', english: 'Straight' },
            { japanese: '右・左', romaji: 'Migi / Hidari', english: 'Right / Left' },
            { japanese: '北・南・東・西', romaji: 'Kita/Minami/Higashi/Nishi', english: 'N/S/E/W' },
            { japanese: '空港', romaji: 'Kuko', english: 'Airport' },
            { japanese: 'ホテル', romaji: 'Hotel', english: 'Hotel' },
            { japanese: '旅館', romaji: 'Ryokan', english: 'Japanese Inn' },
            { japanese: '予約', romaji: 'Yoyaku', english: 'Reservation' },
            { japanese: 'キャンセル', romaji: 'Cancel', english: 'Cancel' },
            { japanese: 'パスモ・スイカ', romaji: 'Pasmo / Suica', english: 'IC Card' },
            { japanese: 'タクシー', romaji: 'Taxi', english: 'Taxi' },
            { japanese: 'バス停', romaji: 'Bus-tei', english: 'Bus Stop' },
            { japanese: 'Wi-Fi', romaji: 'Wifi', english: 'Wifi' },
            { japanese: '充電', romaji: 'Juden', english: 'Charging' }
        ],
        survival: [
            { japanese: 'すみません', romaji: 'Sumimasen', english: 'Excuse me' },
            { japanese: 'ありがとう', romaji: 'Arigato', english: 'Thank you' },
            { japanese: '助けて！', romaji: 'Tasukete!', english: 'Help!' },
            { japanese: '病院', romaji: 'Byouin', english: 'Hospital' },
            { japanese: '薬局', romaji: 'Yakkyoku', english: 'Pharmacy' },
            { japanese: '交番', romaji: 'Koban', english: 'Police Box' },
            { japanese: 'パスポート', romaji: 'Passport', english: 'Passport' },
            { japanese: '地震', romaji: 'Jishin', english: 'Earthquake' },
            { japanese: '津波', romaji: 'Tsunami', english: 'Tsunami' },
            { japanese: '避難所', romaji: 'Hinan-jo', english: 'Shelter' },
            { japanese: '救急車', romaji: 'Kyukyusha', english: 'Ambulance' },
            { japanese: '警察', romaji: 'Keisatsu', english: 'Police' },
            { japanese: '大使館', romaji: 'Taishikan', english: 'Embassy' },
            { japanese: '迷子', romaji: 'Maigo', english: 'Lost person' },
            { japanese: '現金', romaji: 'Genkin', english: 'Cash' },
            { japanese: 'Wi-Fiありますか？', romaji: 'Wifi arimasuka?', english: 'Have Wifi?' },
            { japanese: '英語話せますか', romaji: 'Eigo hanasemasuka', english: 'Speak English?' },
            { japanese: '分かりません', romaji: 'Wakarimasen', english: 'I don\'t understand' },
            { japanese: '書いてください', romaji: 'Kaite kudasai', english: 'Please write it' },
            { japanese: 'いくらですか', romaji: 'Ikura desuka', english: 'How much?' },
            { japanese: '大丈夫', romaji: 'Daijobu', english: 'Okay / Fine' }
        ],
        aizuchi_random: [
            { japanese: 'はい', romaji: 'Hai', english: 'Yes' },
            { japanese: 'なるほど', romaji: 'Naruhodo', english: 'I see' },
            { japanese: 'へぇ〜', romaji: 'Heeee', english: 'Wow' },
            { japanese: '確かに', romaji: 'Tashikani', english: 'Certainly' },
            { japanese: 'マジですか', romaji: 'Maji?', english: 'Really?' },
            { japanese: 'すごい！', romaji: 'Sugoi!', english: 'Amazing!' },
            { japanese: 'そうですか', romaji: 'Soudesuka', english: 'Is that so?' },
            { japanese: '本当に？', romaji: 'Honto ni?', english: 'Truly?' },
            { japanese: '嘘でしょ', romaji: 'Uso desho', english: 'No way / Lie' },
            { japanese: '面白いですね', romaji: 'Omoshiroi desune', english: 'That is interesting' },
            { japanese: '勉強になります', romaji: 'Benkyo ni narimasu', english: 'I am learning a lot' },
            { japanese: 'さすがですね', romaji: 'Sasuga desune', english: 'As expected of you' }
        ]
    };
    createApp({
        setup() {
            const view = ref('home'); 
            const activeCategory = ref({});
            const searchQuery = ref('');
            const speakingItem = ref(null);
            const lastAizuchi = ref(null);

            const categories = [
                { id: 'steel', label: 'STEEL', icon: 'ph-fill ph-factory', color: 'text-orange-500', glow: 'rgba(249,115,22,0.8)', desc: 'Plant & Safety' },
                { id: 'business', label: 'BUSINESS', icon: 'ph-fill ph-briefcase', color: 'text-blue-400', glow: 'rgba(96,165,250,0.8)', desc: 'Office Politics' },
                { id: 'nomikai', label: 'NOMIKAI', icon: 'ph-fill ph-beer-bottle', color: 'text-pink-500', glow: 'rgba(236,72,153,0.8)', desc: 'Party Protocol' },
                { id: 'food', label: 'FOOD', icon: 'ph-fill ph-bowl-food', color: 'text-yellow-400', glow: 'rgba(250,204,21,0.8)', desc: 'Gourmet Terms' },
                { id: 'culture', label: 'CULTURE', icon: 'ph-fill ph-torii', color: 'text-purple-400', glow: 'rgba(192,132,252,0.8)', desc: 'Bushido & Kawaii' },
                { id: 'travel', label: 'TRAVEL', icon: 'ph-fill ph-airplane-tilt', color: 'text-emerald-400', glow: 'rgba(52,211,153,0.8)', desc: 'Navigation' },
                { id: 'aizuchi', label: 'AIZUCHI', icon: 'ph-fill ph-chats', color: 'text-teal-400', glow: 'rgba(45,212,191,0.8)', desc: 'Nodding Master' },
                { id: 'survival', label: 'SURVIVAL', icon: 'ph-fill ph-first-aid', color: 'text-red-500', glow: 'rgba(239,68,68,0.8)', desc: 'Emergency' },
            ];

            const filteredPhrases = computed(() => {
                if (view.value !== 'list') return [];
                const list = DB[activeCategory.value.id] || [];
                if (!searchQuery.value) return list;
                const q = searchQuery.value.toLowerCase();
                return list.filter(item => 
                    item.english.toLowerCase().includes(q) || 
                    item.romaji.toLowerCase().includes(q) ||
                    item.japanese.includes(q)
                );
            });

            const selectCategory = (cat) => {
                activeCategory.value = cat;
                if (cat.id === 'aizuchi') {
                    view.value = 'aizuchi';
                } else {
                    view.value = 'list';
                }
                searchQuery.value = '';
            };

            const goHome = () => {
                view.value = 'home';
                searchQuery.value = '';
                speakingItem.value = null;
            };

            const triggerAizuchi = (event) => {
                const list = DB.aizuchi_random;
                const item = list[Math.floor(Math.random() * list.length)];
                lastAizuchi.value = item;
                speak(item);
            };

            const speak = (item) => {
                speakingItem.value = item.romaji;
                window.speechSynthesis.cancel();
                const uttr = new SpeechSynthesisUtterance(item.japanese);
                uttr.lang = 'ja-JP';
                uttr.rate = 1.0; 
                uttr.onend = () => { speakingItem.value = null; };
                window.speechSynthesis.speak(uttr);
            };

            // iOS Audio Unlock
            const unlockAudio = () => {
                const b = new SpeechSynthesisUtterance('');
                window.speechSynthesis.speak(b);
                document.body.removeEventListener('touchstart', unlockAudio);
                document.body.removeEventListener('click', unlockAudio);
            };
            document.body.addEventListener('touchstart', unlockAudio);
            document.body.addEventListener('click', unlockAudio);

            return {
                view, categories, activeCategory, searchQuery, filteredPhrases,
                selectCategory, goHome, speak, speakingItem, triggerAizuchi, lastAizuchi
            };
        }
    }).mount('#app');
</script>





<script id="lfs-meta" type="application/json">
{
  "appId": "712fefc73a8b9ed14d6b160359969013",
  "createdAt": "2026-01-13T13:08:23.394Z",
  "schema": 2,
  "title": "Steelearner 2.0 - Molten Edition",
  "savedAt": "2026-01-13T14:11:36.708Z",
  "aiInstruction": "Japanese Context System は今のアプリなら違うので、修正。",
  "comment": "Japanese Context System は今のアプリなら違うので、修正。",
  "sourceMode": "project",
  "runId": "d26b01715baef6a75fbc4e3aa68e5f25"
}
</script>
</body>
</html>
