
<!doctype html>
<html lang="ja">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, viewport-fit=cover, initial-scale=1, user-scalable=no">
<title>TOEIC L&R Reading 7-Day Trainer (Use-up, Complete)</title>
<style>
  :root{
    --bg:#0b0f14; --bg2:#0a0d12;
    --card:#141a22; --ink:#eaf2ff; --muted:#a9b7cc; --line:#233042;
    --pri:#4da3ff; --ok:#18c964; --warn:#ffb020; --danger:#ff4d4f; --accent:#6cc3ff;
  }
  *{box-sizing:border-box}
  html,body{height:100%;margin:0;background:linear-gradient(180deg,var(--bg),var(--bg2));color:var(--ink);
    font-family: ui-sans-serif, system-ui, -apple-system, "Hiragino Sans", "Noto Sans JP", Segoe UI, Roboto, sans-serif}
  header{position:sticky;top:0;z-index:50;background:rgba(10,14,20,.9);
    border-bottom:1px solid var(--line);backdrop-filter:blur(6px)}
  .wrap{max-width:920px;margin:0 auto;padding:12px}
  h1{font-size:20px;margin:8px 0}
  .bar{display:flex;gap:8px;align-items:center;flex-wrap:wrap}
  select,button{background:var(--card);color:var(--ink);border:1px solid var(--line);
    border-radius:12px;padding:10px 12px;font-size:16px}
  button.pri{background:var(--pri);border-color:#3c86d1;color:#fff}
  button.ghost{background:transparent}
  button:disabled{opacity:.55}
  main{padding:8px}
  .card{background:var(--card);border:1px solid var(--line);border-radius:16px;padding:14px;margin:10px 0}
  .meta{display:flex;gap:8px;flex-wrap:wrap;color:var(--muted);font-size:13px;margin-top:6px}
  .qtext{font-size:16px;line-height:1.6}
  .choices{display:grid;gap:8px;margin-top:10px}
  .choice{display:flex;gap:10px;align-items:flex-start;border:1px solid var(--line);
    border-radius:12px;padding:10px}
  .choice input{margin-top:6px;transform:scale(1.2)}
  .passage{white-space:pre-wrap;background:#0c1420;border:1px dashed var(--line);padding:12px;border-radius:12px}
  .badge{display:inline-block;padding:2px 8px;border-radius:999px;font-size:12px;border:1px solid var(--line);color:var(--muted)}
  .ex{margin-top:10px;border-top:1px dashed var(--line);padding-top:10px}
  .correct{border-color:#1f9d5a;background:rgba(24,201,100,.06)}
  .wrong{border-color:#b23b3b;background:rgba(255,77,79,.06)}
  .grid2{display:grid;grid-template-columns:1fr auto;gap:10px;align-items:center}
  .footerbar{position:sticky;bottom:0;background:rgba(10,14,20,.9);backdrop-filter:blur(6px);
    border-top:1px solid var(--line);padding:8px}
  .stats{display:flex;gap:10px;flex-wrap:wrap;font-size:13px;color:var(--muted)}
  .pill{padding:6px 10px;border:1px solid var(--line);border-radius:999px}
  .timer{font-variant-numeric:tabular-nums}
  .hidden{display:none}
  .title{font-weight:700}
  .hint{color:var(--muted);font-size:13px}
  .hr{height:1px;background:linear-gradient(90deg,transparent,var(--line),transparent);margin:12px 0}
  .big{font-size:18px}
  .notice{background:#0f1b2a;border:1px solid var(--line);padding:10px;border-radius:12px}
  .tag{font-size:12px;background:#0e1a28;padding:4px 8px;border-radius:999px;border:1px solid var(--line);color:#a9c7ff}
</style>
</head>
<body>
<header>
  <div class="wrap">
    <h1>TOEIC L&R Reading 7-Day Trainer — 完全版</h1>
    <div class="bar">
      <label>Day:
        <select id="daySel"></select>
      </label>
      <label>モード:
        <select id="modeSel">
          <option value="practice">練習（解答ごとに解説）</option>
          <option value="test">模試（最後にまとめて採点）</option>
        </select>
      </label>
      <button id="startBtn" class="pri">開始</button>
      <button id="resetBtn" class="ghost">やり直し</button>
      <span class="pill timer" id="timer">00:00</span>
    </div>
    <div class="meta">
      <span class="badge">Part5 文法・語彙</span>
      <span class="badge">Part6 長文穴埋め</span>
      <span class="badge">Part7 読解</span>
    </div>
  </div>
</header>

<main class="wrap">
  <div id="intro" class="card">
    <div class="title big">7日間使い切り・Reading特化</div>
    <p class="hint">1日あたりの目安：45〜60分。練習モードは即時解説、模試モードは最後に採点＋解説まとめ。</p>
    <div class="notice">
      <ul>
        <li>目的：650→800へ。弱点可視化（品詞／語法／文挿入／推論／情報一致）。</li>
        <li>時間戦略：Part5はサクサク（約10–12分）、Part6を8–10分、残りをPart7に。</li>
        <li>減点なし。迷っても必ずマーク→解説で「根拠」を掴む。</li>
      </ul>
    </div>
  </div>
  <div id="qs"></div>
</main>

<div class="footerbar">
  <div class="wrap grid2">
    <div class="stats">
      <span id="prog" class="pill">0 / 0</span>
      <span id="score" class="pill">正解 0</span>
      <span id="acc" class="pill">正答率 0%</span>
      <span id="partInfo" class="pill">Part –</span>
    </div>
    <div>
      <button id="prevBtn" class="ghost">← 前へ</button>
      <button id="nextBtn" class="pri">次へ →</button>
      <button id="finishBtn" class="ghost">終了／採点</button>
    </div>
  </div>
</div>

<script>
/* =========================
   データ仕様：
   days = { DayX: [ {type:'p5'| 'p6'|'p7', ...} ] }
   ========================= */

const days = {
// ===== Day 1 =====
"Day 1": [
  {type:'p5', tag:'語彙 collocation', q:"The company will ____ its hiring plan next quarter due to budget constraints.", choices:["proceed","postpone","promote","propose"], ans:1, explain:"budget constraints → postpone（延期）。"},
  {type:'p5', tag:'品詞', q:"Our sales figures show a steady ____ in the last three months.", choices:["grow","growth","growing","grown"], ans:1, explain:"a steady + 名詞 → growth。"},
  {type:'p5', tag:'前置詞', q:"The seminar is scheduled ____ 2 p.m. on Friday.", choices:["on","at","by","for"], ans:1, explain:"時刻=at。"},
  {type:'p5', tag:'語法', q:"All employees are required to comply ____ the safety regulations.", choices:["to","with","for","in"], ans:1, explain:"comply with。"},
  {type:'p5', tag:'比較', q:"The updated model is ____ than the previous one.", choices:["most efficient","more efficiently","more efficient","efficiently"], ans:2, explain:"比較級+than → more efficient。"},
  {type:'p5', tag:'代名詞', q:"Please send the report to Ms. Khan and let ____ know once it is done.", choices:["her","she","hers","herself"], ans:0, explain:"let + 人 + know。"},
  {type:'p5', tag:'接続', q:"____ the weather was bad, the outdoor event attracted many visitors.", choices:["Because","Although","Unless","Since"], ans:1, explain:"逆接 Although。"},
  {type:'p5', tag:'時制', q:"Our team ____ the prototype last week.", choices:["completes","completed","has completed","was completing"], ans:1, explain:"last week → 過去。"},
  {type:'p5', tag:'分詞', q:"The attached file contains the invoices ____ last month.", choices:["issue","issued","issuing","to issue"], ans:1, explain:"invoices + 過去分詞。"},
  {type:'p5', tag:'語彙', q:"We apologize for any ____ caused by the maintenance.", choices:["confusion","decision","permission","prediction"], ans:0, explain:"定型。"},
  {type:'p5', tag:'前置詞', q:"The new policy goes ____ effect next Monday.", choices:["on","into","to","for"], ans:1, explain:"go into effect。"},
  {type:'p5', tag:'語法', q:"Ms. Ortiz looks forward to ____ with the new partner.", choices:["work","worked","working","to work"], ans:2, explain:"look forward to + 動名詞。"},

  {type:'p6', passage:`To all staff,

Our downtown café will undergo minor renovations next week to refresh the seating area and lighting. (1) ____,
we will introduce a new breakfast menu featuring healthier options. During construction, customers may notice
reduced seating capacity. (2) ____ the work should be completed by Thursday, the café will remain open with
limited hours from 8 a.m. to 2 p.m. We appreciate your understanding and hope you enjoy the updates.

Manager, Blue Finch Café`, q:"(1)", choices:["In addition","For example","Otherwise","However"], ans:0, explain:"付加 In addition。"},
  {type:'p6', passage:"（同上）", q:"(2)", choices:["Because","Although","Unless","Before"], ans:1, explain:"譲歩 Although。"},
  {type:'p6', passage:`Team,

Please review the attached quarterly report. The sales in the northern region exceeded expectations, largely
due to a successful social media campaign. (1) ____ , we saw a decline in the western region, where supply
delays affected store inventory. (2) ____ the full analysis and be ready to discuss strategies at Monday's meeting.

Regards, T. Mori`, q:"(1)", choices:["Similarly","Conversely","Meanwhile","Consequently"], ans:1, explain:"対比 Conversely。"},
  {type:'p6', passage:"（同上）", q:"(2)", choices:["Please review","Reviewing","To review","Reviewed"], ans:0, explain:"命令文継続。"},

  {type:'p7', title:"Notice: Elevator Service", passage:`[NOTICE]
The south elevator will be out of service on Saturday from 7 a.m. to 3 p.m. for cable inspection.
Please use the north elevator or the stairs during this period. We apologize for the inconvenience.
— Building Management`, q:"Why was this notice posted?", choices:["Evacuation","Temporary maintenance","Hiring","New elevator"], ans:1, explain:"maintenance 告知。"},
  {type:'p7', title:"", passage:"（同上）", q:"When will the elevator be unavailable?", choices:["Sat morning only","Sat 7–3","Sun 3–7","Weekdays only"], ans:1, explain:"本文通り。"},
  {type:'p7', title:"Email", passage:`Subject: Printing Schedule
Hi Nina,
Could you send the final brochure file by Thursday noon? The print shop requires 24 hours, and we need the copies on Friday afternoon for the trade show. If there are last-minute changes, please tell me no later than Wednesday evening.
Thanks, Omar`, q:"By when does Omar need the file?", choices:["Wed evening","Thu noon","Fri morning","Fri afternoon"], ans:1, explain:"by Thursday noon。"},
  {type:'p7', title:"", passage:"（同上）", q:"Why is there a 24-hour requirement?", choices:["Design review","Print processing","Overseas shipping","Team training"], ans:1, explain:"print shop requires 24 hours。"},
  {type:'p7', title:"Web Ad", passage:`Summer Rail Pass — Save 30%!
Unlimited weekend travel between any two cities in our network.
Purchase by June 30. Valid for trips taken before August 31.
Visit railgo.example/promo`, q:"Which is true?", choices:["Weekday only","30% discount","Valid after Aug 31","Hotel needed"], ans:1, explain:"Save 30%。"},
  {type:'p7', title:"", passage:"（同上）", q:"One condition?", choices:["Weekend use","Any airline","International only","Groups only"], ans:0, explain:"Unlimited weekend travel。"},
  {type:'p7', title:"Message Board (2-doc)", passage:`Post 1 — Lydia
Is there parking near the museum? I'm planning to visit on Sunday afternoon.

Post 2 — Museum Staff
Yes, the Elm Street garage is open on weekends. If it is full, try the River Lot two blocks east.
Note that street parking is free on Sundays.`, q:"If Elm St is full?", choices:["Arrive Sat","Use River Lot","Take subway","Airport"], ans:1, explain:"try the River Lot。"},
  {type:'p7', title:"", passage:"（同上）", q:"What about Sundays?", choices:["Free street parking","Reserve spot","Free admission","Airport shuttle"], ans:0, explain:"free on Sundays。"}
],

// ===== Day 2 =====
"Day 2": [
  {type:'p5', tag:'語彙', q:"The warranty is valid only with a ____ receipt.", choices:["missed","formal","missing","valid"], ans:1, explain:"a formal receipt。"},
  {type:'p5', tag:'品詞', q:"There has been a significant ____ in energy costs.", choices:["reduce","reducing","reduction","reduced"], ans:2, explain:"a significant + 名詞。"},
  {type:'p5', tag:'前置詞', q:"The training will be conducted ____ two sessions.", choices:["of","into","in","on"], ans:2, explain:"in two sessions。"},
  {type:'p5', tag:'語法', q:"The manager insisted ____ revising the timeline.", choices:["on","to","for","about"], ans:0, explain:"insist on。"},
  {type:'p5', tag:'比較', q:"This route is ____ but more scenic.", choices:["long","longer","longest","as long"], ans:1, explain:"比較の対応。"},
  {type:'p5', tag:'代名詞', q:"Each intern must submit ____ weekly report by Monday.", choices:["their","his or her","its","theirs"], ans:1, explain:"Each + 単数。"},
  {type:'p5', tag:'接続', q:"We will proceed with the launch ____ we receive final approval.", choices:["once","despite","unless","until"], ans:0, explain:"once = ～したら。"},
  {type:'p5', tag:'時制', q:"They ____ the site by the time the inspector arrived.", choices:["finish","finished","had finished","have finished"], ans:2, explain:"by the time + 過去 → 過去完了。"},
  {type:'p5', tag:'分詞', q:"The items ____ on the shelf are for clearance.", choices:["display","displayed","displaying","to display"], ans:1, explain:"過去分詞修飾。"},
  {type:'p5', tag:'語彙', q:"Please keep the hallway ____ at all times.", choices:["vacant","available","clear","open"], ans:2, explain:"keep … clear。"},
  {type:'p5', tag:'前置詞', q:"____ her experience, she is the ideal candidate.", choices:["Because","Given","Despite","Since"], ans:1, explain:"Given ～。"},
  {type:'p5', tag:'語法', q:"The brochure is aimed ____ first-time visitors.", choices:["to","at","for","on"], ans:1, explain:"aimed at。"},
  {type:'p6', passage:`Customer Notice

Due to software updates, online account access will be temporarily unavailable on May 12 from 1 a.m. to 5 a.m.
(1) ____ , users may experience slow performance for several hours after the system is restored.
We recommend downloading any statements in advance. (2) ____ your understanding.`, q:"(1)", choices:["For instance","Moreover","As a result","Additionally"], ans:3, explain:"加えて。"},
  {type:'p6', passage:"（同上）", q:"(2)", choices:["We appreciate","We appreciated","You appreciate","Your appreciation"], ans:0, explain:"定型。"},
  {type:'p6', passage:`Internal Memo

Please note that the lab will be closed on Tuesday for equipment calibration. Team A should submit samples
by Monday noon. Team B may use the satellite room if space is available. (1) ____ , all hazardous materials
must be stored in the red cabinet. (2) ____ questions, contact Dr. Lee.`, q:"(1)", choices:["Otherwise","In particular","Instead","Meanwhile"], ans:1, explain:"強調。"},
  {type:'p6', passage:"（同上）", q:"(2)", choices:["With","Regarding","Among","Across"], ans:1, explain:"Regarding questions。"},
  {type:'p7', title:"FAQ", passage:`Q: Cancel after it ships?
A: Refuse delivery; refund after package returns.
Q: Refund timing?
A: 5–7 business days after we receive the return.`, q:"When is refund initiated?", choices:["When shipped","After refusal","After return received","24h"], ans:2, explain:"after we receive the return。"},
  {type:'p7', title:"", passage:"（同上）", q:"Which is true?", choices:["Must accept delivery","Refusing delivery allowed","Refunds immediate","Free shipping"], ans:1, explain:"You may refuse delivery。"},
  {type:'p7', title:"Job Post", passage:`Junior Analyst — River & Co.
Responsibilities: metrics, decks, vendor coordination.
Excel required; SQL preferred. Hybrid available.`, q:"Which skill is required?", choices:["Public speaking","Excel","SQL","Design"], ans:1, explain:"required は Excel。"},
  {type:'p7', title:"", passage:"（同上）", q:"One benefit?", choices:["Daycare","Hybrid work","Company car","Free lunch"], ans:1, explain:"Hybrid。"},
  {type:'p7', title:"Message Thread", passage:`Msg 1 — Priya
I'll bring the projector. Do we have an HDMI cable?

Msg 2 — Evan
Yes, top drawer. If missing, check the meeting room cabinet.`, q:"Where first?", choices:["Cabinet","Top drawer","Closet","Reception"], ans:1, explain:"top drawer。"},
  {type:'p7', title:"", passage:"（同上）", q:"If not there?", choices:["Buy new","Use VGA","Check cabinet","Cancel"], ans:2, explain:"check the cabinet。"}
],

// ===== Day 3 =====
"Day 3": [
  {type:'p5', tag:'語彙', q:"The CEO will make a brief ____ before the Q&A session.", choices:["commentary","announcement","announcer","announce"], ans:1, explain:"make an announcement。"},
  {type:'p5', tag:'品詞', q:"Ms. Becker is a highly ____ designer.", choices:["create","creative","creativity","creatively"], ans:1, explain:"形容詞。"},
  {type:'p5', tag:'前置詞', q:"We are seeking feedback ____ the new layout.", choices:["on","to","with","by"], ans:0, explain:"feedback on。"},
  {type:'p5', tag:'語法', q:"The board approved the proposal ____.", choices:["unanimity","unanimous","unanimously","unanimousness"], ans:2, explain:"副詞。"},
  {type:'p5', tag:'比較', q:"This material is ____ than we expected.", choices:["durable","most durable","more durable","durably"], ans:2, explain:"比較級。"},
  {type:'p5', tag:'代名詞', q:"The interns introduced ____ to the clients.", choices:["they","themselves","them","their"], ans:1, explain:"oneself。"},
  {type:'p5', tag:'接続', q:"We will continue the project ____ the contract is renewed.", choices:["provided that","despite","unlike","unless"], ans:0, explain:"provided that。"},
  {type:'p5', tag:'時制', q:"Our team ____ a survey to evaluate user satisfaction.", choices:["is conducting","conduct","conducted","has conduct"], ans:0, explain:"進行形。"},
  {type:'p5', tag:'分詞', q:"Applicants ____ after the deadline will not be considered.", choices:["submit","submitting","submitted","to submit"], ans:2, explain:"過去分詞。"},
  {type:'p5', tag:'語彙', q:"We need a more ____ approach to customer support.", choices:["consistency","consistent","consistently","consist"], ans:1, explain:"形容詞。"},
  {type:'p5', tag:'前置詞', q:"Employees must arrive ____ time for the orientation.", choices:["on","at","in","by"], ans:0, explain:"on time。"},
  {type:'p5', tag:'語法', q:"The brochure was designed ____ appeal to younger audiences.", choices:["in","to","for","with"], ans:1, explain:"designed to。"},
  {type:'p6', passage:`Press Release

NutriLeaf has launched a plant-based snack bar with 40% less sugar. (1) ____ , the product includes added fiber
for prolonged fullness. It will be available nationwide next month. (2) ____ retailers will receive promotional
materials by the end of this week.`, q:"(1)", choices:["However","Furthermore","Instead","Meanwhile"], ans:1, explain:"付加。"},
  {type:'p6', passage:"（同上）", q:"(2)", choices:["Select","Selecting","Selection","Selected"], ans:0, explain:"Select retailers。"},
  {type:'p6', passage:`Reminder

Please clean the break room after use. Wipe the counter, rinse cups, and remove leftovers from the refrigerator.
(1) ____ , place recyclable items in the blue bin. (2) ____ your cooperation!`, q:"(1)", choices:["For example","In addition","Otherwise","Instead of"], ans:1, explain:"追加指示。"},
  {type:'p6', passage:"（同上）", q:"(2)", choices:["We appreciate","We appreciated","Your appreciate","Appreciates"], ans:0, explain:"定型。"},
  {type:'p7', title:"Event Schedule", passage:`City Book Fair — Saturday
10:00 Opening Remarks
11:00 Author Talk: M. Reyes
13:00 Workshop: Self-Publishing
15:00 Panel: Digital Reading Trends`, q:"When does the workshop begin?", choices:["10:00","11:00","13:00","15:00"], ans:2, explain:"13:00。"},
  {type:'p7', title:"", passage:"（同上）", q:"Which session is about e-books and apps?", choices:["Opening","Author talk","Workshop","Panel at 15:00"], ans:3, explain:"Digital Reading Trends。"},
  {type:'p7', title:"Chat", passage:`A: My order shows 'delivered' but I didn't receive it.
B: Please check with your neighbors. If not found, I'll file a claim with the courier.`, q:"What will B do next?", choices:["Send replacement","File a claim","Offer discount","Cancel"], ans:1, explain:"file a claim。"},
  {type:'p7', title:"", passage:"（同上）", q:"What does A report?", choices:["Damaged","Delayed","Tracking says delivered","Neighbor returned"], ans:2, explain:"shows 'delivered'。"}
],

// ===== Day 4 =====
"Day 4": [
  {type:'p5', tag:'語彙', q:"The shipment is due to ____ tomorrow morning.", choices:["arrive","arrival","arriving","arrived"], ans:0, explain:"due to + 原形。"},
  {type:'p5', tag:'品詞', q:"We saw a dramatic ____ in website traffic after the campaign.", choices:["increase","increasing","increased","to increase"], ans:0, explain:"名詞。"},
  {type:'p5', tag:'前置詞', q:"Please submit the form ____ Friday at the latest.", choices:["by","until","during","since"], ans:0, explain:"締切 by。"},
  {type:'p5', tag:'語法', q:"The device is compatible ____ most smartphones.", choices:["with","to","for","on"], ans:0, explain:"compatible with。"},
  {type:'p5', tag:'比較', q:"Our new line is ____ affordable than the previous one.", choices:["far","far more","much","most"], ans:1, explain:"far more + 形容詞。"},
  {type:'p5', tag:'代名詞', q:"Neither of the candidates presented ____ portfolio.", choices:["their","his or her","its","theirs"], ans:1, explain:"Neither + 単数。"},
  {type:'p5', tag:'接続', q:"We will continue marketing ____ sales improve.", choices:["until","so that","although","as if"], ans:0, explain:"until。"},
  {type:'p5', tag:'時制', q:"The committee ____ the proposal last month.", choices:["rejects","rejected","has rejected","was rejecting"], ans:1, explain:"過去形。"},
  {type:'p5', tag:'分詞', q:"The ____ documents must be reviewed by legal.", choices:["sign","signing","signed","to sign"], ans:2, explain:"signed documents。"},
  {type:'p5', tag:'語彙', q:"The theater offers a 20% ____ for seniors on weekdays.", choices:["discount","decline","decrease","deficit"], ans:0, explain:"discount。"},
  {type:'p5', tag:'前置詞', q:"The tour is limited ____ 20 participants.", choices:["at","to","for","by"], ans:1, explain:"limited to。"},
  {type:'p5', tag:'語法', q:"Please remember ____ your badge at all times.", choices:["wearing","to wear","wear","to wearing"], ans:1, explain:"remember to。"},
  {type:'p6', passage:`Staff Announcement

We are launching an internal mentorship program next quarter. (1) ____ , employees with over five years of
experience are invited to apply as mentors. Mentees will be matched based on goals and departments. (2) ____
interested should complete the survey by March 15.`, q:"(1)", choices:["For instance","In particular","Moreover","Meanwhile"], ans:2, explain:"Moreover。"},
  {type:'p6', passage:"（同上）", q:"(2)", choices:["Those","These","They","Anyone"], ans:0, explain:"Those interested。"},
  {type:'p6', passage:`Notice to Residents

The south parking lot will be resurfaced on June 3–4. (1) ____ , vehicles must be moved by 10 p.m. on June 2.
Alternative parking will be available along Maple Street. (2) ____ questions, contact the management office.`, q:"(1)", choices:["As a result","Therefore","In addition","However"], ans:1, explain:"Therefore。"},
  {type:'p6', passage:"（同上）", q:"(2)", choices:["If","Regarding","Across","Without"], ans:1, explain:"Regarding questions。"},
  {type:'p7', title:"Newsletter Blurb", passage:`Our fitness center now offers early-bird classes at 6 a.m. on weekdays. Members must reserve a spot via the app.
Walk-ins are accepted only if space is available.`, q:"How to secure a spot?", choices:["Call desk","Use the app","Arrive early","Pay extra"], ans:1, explain:"reserve via the app。"},
  {type:'p7', title:"", passage:"（同上）", q:"When are the new classes?", choices:["Weekends 6 a.m.","Weekdays 6 a.m.","Daily 7 a.m.","Fridays only"], ans:1, explain:"weekdays。"},
  {type:'p7', title:"Email", passage:`Subject: Catering Order
Hi Keita,
Please confirm the final headcount by Tuesday noon. We need vegetarian options for at least eight people.
If any guests have allergies, let me know by Monday evening.
Thanks, Mari`, q:"Headcount deadline?", choices:["Mon noon","Mon evening","Tue noon","Tue evening"], ans:2, explain:"Tuesday noon。"},
  {type:'p7', title:"", passage:"（同上）", q:"Special requirement?", choices:["Halal","Vegan only","Vegetarian for eight","Gluten-free desserts"], ans:2, explain:"vegetarian for at least eight。"},
  {type:'p7', title:"Event Poster", passage:`Community Clean-up — Saturday 9 a.m.
Meet at Riverside Park entrance. Gloves and bags provided. Volunteers under 16 must be accompanied by an adult.`, q:"Meet where?", choices:["City Hall","Riverside Park entrance","Library","Museum"], ans:1, explain:"entrance。"},
  {type:'p7', title:"", passage:"（同上）", q:"Who needs an adult?", choices:["First-timers","All","Under 16","Visitors"], ans:2, explain:"under 16。"},
  {type:'p7', title:"Review (2-doc)", passage:`Review A — 4/5
Powerful but noisy.

Review B — 5/5
Great value and easy to clean.`, q:"What do they agree on?", choices:["Overpriced","Easy to clean","Strong performance","Quiet"], ans:2, explain:"A: powerful → performance。"},
  {type:'p7', title:"", passage:"（同上）", q:"Concern in A?", choices:["Durability","Noise","Price","Size"], ans:1, explain:"noisy。"}
],

// ===== Day 5 =====
"Day 5": [
  {type:'p5', tag:'語彙', q:"We will ____ a survey to gather feedback.", choices:["conduct","construct","contract","contact"], ans:0, explain:"conduct a survey。"},
  {type:'p5', tag:'品詞', q:"Customer ____ has improved since we updated the app.", choices:["satisfy","satisfaction","satisfactory","satisfying"], ans:1, explain:"satisfaction。"},
  {type:'p5', tag:'前置詞', q:"The course is open ____ all employees.", choices:["for","to","with","by"], ans:1, explain:"open to。"},
  {type:'p5', tag:'語法', q:"The workshop focuses on ____ data securely.", choices:["store","to store","storing","stored"], ans:2, explain:"focus on + 動名詞。"},
  {type:'p5', tag:'比較', q:"This printer is ____ and faster than the older model.", choices:["cheap","cheaper","the cheapest","more cheap"], ans:1, explain:"比較級。"},
  {type:'p5', tag:'代名詞', q:"Someone left ____ umbrella in the lobby.", choices:["their","his or her","its","theirs"], ans:0, explain:"単数they。"},
  {type:'p5', tag:'接続', q:"We can start the demo ____ the projector is set up.", choices:["while","once","despite","unless"], ans:1, explain:"once。"},
  {type:'p5', tag:'時制', q:"Our team ____ the report three times this week.", choices:["revised","has revised","revises","was revising"], ans:1, explain:"現在完了。"},
  {type:'p5', tag:'分詞', q:"The ____ goods must be reported to the warehouse.", choices:["damage","damaging","damaged","to damage"], ans:2, explain:"damaged goods。"},
  {type:'p5', tag:'語彙', q:"Please keep your password ____.", choices:["confidential","confidence","confidant","confiding"], ans:0, explain:"confidential。"},
  {type:'p5', tag:'前置詞', q:"The success was largely ____ effective teamwork.", choices:["because","because of","since","due"], ans:1, explain:"because of + 名詞。"},
  {type:'p5', tag:'語法', q:"The program enables staff ____ expenses quickly.", choices:["file","to file","filing","to filing"], ans:1, explain:"enable 人 to。"},
  {type:'p6', passage:`Public Notice

The east wing of the library will close at 5 p.m. for a private event. (1) ____ , the main reading room will
remain open until 9 p.m. Patrons who need study space should plan accordingly. (2) ____ your cooperation.`, q:"(1)", choices:["However","Meanwhile","In contrast","Similarly"], ans:0, explain:"However。"},
  {type:'p6', passage:"（同上）", q:"(2)", choices:["We appreciate","We appreciated","Appreciating","Your appreciate"], ans:0, explain:"定型。"},
  {type:'p6', passage:`Message to Staff

Please welcome our new IT specialist, Mina Park. (1) ____ , she managed enterprise networks for five years at
Northbridge. She will oversee our help desk and security audits. (2) ____ any issues, open a ticket via the portal.`, q:"(1)", choices:["Previously","Nevertheless","Accordingly","Suddenly"], ans:0, explain:"Previously。"},
  {type:'p6', passage:"（同上）", q:"(2)", choices:["With","Regarding","For","In"], ans:2, explain:"For any issues。"},
  {type:'p7', title:"Website Notice", passage:`Shipping Update: Orders placed after 6 p.m. ship the next business day. Express options are available at checkout.`, q:"Orders at 8 p.m.?", choices:["Ship now","Ship next business day","Canceled","Two-day delay"], ans:1, explain:"next business day。"},
  {type:'p7', title:"", passage:"（同上）", q:"Where to choose faster shipping?", choices:["Account","Checkout","Call support","Cart only"], ans:1, explain:"at checkout。"},
  {type:'p7', title:"Agenda", passage:`Team Meeting — Thursday 3 p.m.
1. Q3 metrics
2. Supplier audit results
3. Budget proposal
4. Next steps`, q:"Which topic is about cost planning?", choices:["Q3 metrics","Supplier audit","Budget proposal","Next steps"], ans:2, explain:"Budget proposal。"},
  {type:'p7', title:"", passage:"（同上）", q:"When will the meeting be held?", choices:["Wed 3","Thu 3","Fri 2","Thu 2"], ans:1, explain:"Thursday 3 p.m.。"},
  {type:'p7', title:"Text", passage:`Driver: Stuck in traffic. Will arrive by 9:15.
Coordinator: Thanks. We'll start with introductions and wait to begin the demo.`, q:"What will coordinator do?", choices:["Cancel demo","Delay demo start","End meeting","Call driver"], ans:1, explain:"wait to begin the demo。"},
  {type:'p7', title:"", passage:"（同上）", q:"Driver expected time?", choices:["8:45","9:00","9:15","9:30"], ans:2, explain:"by 9:15。"}
],

// ===== Day 6 =====
"Day 6": [
  {type:'p5', tag:'語彙', q:"All staff must follow the updated safety ____.", choices:["regulations","regulars","regulators","regulation"], ans:0, explain:"複数形の規程集。"},
  {type:'p5', tag:'品詞', q:"We made a ____ decision to pause hiring.", choices:["strategically","strategy","strategic","strategies"], ans:2, explain:"形容詞。"},
  {type:'p5', tag:'前置詞', q:"The seminar is open ____ non-members for a fee.", choices:["to","for","with","by"], ans:0, explain:"open to。"},
  {type:'p5', tag:'語法', q:"The director agreed ____ the budget increase.", choices:["to","with","on","at"], ans:0, explain:"agree to（提案）。"},
  {type:'p5', tag:'比較', q:"This model is not as ____ as the premium one.", choices:["reliable","more reliable","most reliable","reliably"], ans:0, explain:"not as + 形。"},
  {type:'p5', tag:'代名詞', q:"Anyone who lost ____ badge should report to HR.", choices:["their","his or her","its","theirs"], ans:0, explain:"単数they。"},
  {type:'p5', tag:'接続', q:"You can cancel ____ you notify us 24 hours in advance.", choices:["provided that","although","despite","as if"], ans:0, explain:"条件 provided that。"},
  {type:'p5', tag:'時制', q:"Sales ____ steadily since the relaunch.", choices:["grow","grew","have grown","had grown"], ans:2, explain:"since + 現在完了。"},
  {type:'p5', tag:'分詞', q:"Please return any ____ items to the front desk.", choices:["lose","losing","lost","to lose"], ans:2, explain:"lost items。"},
  {type:'p5', tag:'語彙', q:"The contract is subject to ____ by the board.", choices:["approval","approve","approving","approved"], ans:0, explain:"subject to + 名詞。"},
  {type:'p5', tag:'前置詞', q:"We apologize ____ the delay in service.", choices:["for","to","at","on"], ans:0, explain:"apologize for。"},
  {type:'p5', tag:'語法', q:"The app allows users ____ notifications.", choices:["customize","to customize","customizing","customized"], ans:1, explain:"allow 人 to。"},
  {type:'p6', passage:`Store Update

(1) ____ , the bakery opens at 7 a.m. on weekends.
We will also add a gluten-free section. Please check the website for seasonal items. (2) ____ questions, ask at the counter.`, q:"(1)", choices:["However","Additionally","Beginning next month","Meanwhile"], ans:2, explain:"Beginning next month。"},
  {type:'p6', passage:"（同上）", q:"(2)", choices:["If","For","Across","Among"], ans:1, explain:"For questions。"},
  {type:'p6', passage:`Memo

We will pilot a four-day workweek in July. Teams will rotate days off so coverage remains continuous.
(1) ____ , managers will track productivity and employee feedback. A summary report is due August 5.
(2) ____ details next week.`, q:"(1)", choices:["For example","Likewise","In addition","Consequently"], ans:2, explain:"In addition。"},
  {type:'p6', passage:"（同上）", q:"(2)", choices:["We'll share","Sharing","To share","Shared"], ans:0, explain:"We'll share。"},
  {type:'p7', title:"Ad", passage:`City Bike Pass — 1 week for $15. Includes unlimited 30-minute rides. Extra time billed per minute. Helmets recommended.`, q:"What is included?", choices:["Unlimited rides any length","Unlimited 30-minute rides","Free helmet","Free tours"], ans:1, explain:"30-minute rides。"},
  {type:'p7', title:"", passage:"（同上）", q:"When are extra charges?", choices:[">30 minutes","Weekends","No helmet","Outside city"], ans:0, explain:"Extra time billed。"},
  {type:'p7', title:"Message", passage:`Front Desk: Your package arrived at 2:10 p.m.
Recipient: Thanks. I'll pick it up after 5.`, q:"Pickup likely?", choices:["Before 2:10","~3:00","After 5:00","Noon"], ans:2, explain:"after 5。"},
  {type:'p7', title:"", passage:"（同上）", q:"Where is the package now?", choices:["Courier","Recipient desk","Front desk","Warehouse"], ans:2, explain:"front desk。"}
],

// ===== Day 7 =====
"Day 7": [
  {type:'p5', tag:'語彙', q:"The board reached a ____ after a two-hour discussion.", choices:["decide","decisive","decision","deciding"], ans:2, explain:"reach a decision。"},
  {type:'p5', tag:'品詞', q:"Our clients are increasingly ____ about data privacy.", choices:["concern","concerns","concerning","concerned"], ans:3, explain:"be concerned about。"},
  {type:'p5', tag:'前置詞', q:"Please refrain ____ using phones during the briefing.", choices:["of","from","to","at"], ans:1, explain:"refrain from。"},
  {type:'p5', tag:'語法', q:"The software is designed ____ automate reports.", choices:["for","to","in","at"], ans:1, explain:"designed to。"},
  {type:'p5', tag:'比較', q:"This route is the ____ way to the airport at this hour.", choices:["fast","faster","fastest","most fast"], ans:2, explain:"最上級。"},
  {type:'p5', tag:'代名詞', q:"Each participant must bring ____ ID.", choices:["their","his or her","its","theirs"], ans:1, explain:"Each + 単数。"},
  {type:'p5', tag:'接続', q:"We cannot proceed ____ the permit is issued.", choices:["until","since","as if","whereas"], ans:0, explain:"until。"},
  {type:'p5', tag:'時制', q:"I ____ the instructions to all team members just now.", choices:["send","sent","have sent","had sent"], ans:2, explain:"just now → 現在完了寄り。"},
  {type:'p5', tag:'分詞', q:"The ____ report includes updated charts.", choices:["revise","revising","revised","to revise"], ans:2, explain:"revised report。"},
  {type:'p5', tag:'語彙', q:"We will offer a full ____ if the product arrives damaged.", choices:["refund","refer","refusal","reference"], ans:0, explain:"refund。"},
  {type:'p5', tag:'前置詞', q:"The workshop is limited ____ 12 attendees per session.", choices:["in","for","to","with"], ans:2, explain:"limited to。"},
  {type:'p5', tag:'語法', q:"Please avoid ____ sensitive data in e-mails.", choices:["to send","send","sending","to sending"], ans:2, explain:"avoid + 動名詞。"},
  {type:'p6', passage:`Internal Update

Our logistics partner will change on October 1. (1) ____ , delivery times may vary during the first week.
Please inform customers of possible delays. (2) ____ any urgent shipments, mark them 'priority'.`, q:"(1)", choices:["For example","As a result","Nevertheless","Meanwhile"], ans:1, explain:"結果。"},
  {type:'p6', passage:"（同上）", q:"(2)", choices:["With","Regarding","For","Across"], ans:2, explain:"For any urgent shipments。"},
  {type:'p6', passage:`Volunteer Sign-up

We need helpers for the school fair on May 12. (1) ____ , set-up begins at 7 a.m., and clean-up ends by 5 p.m.
Snacks and water will be provided. (2) ____ questions, e-mail events@school.org.`, q:"(1)", choices:["In particular","Specifically","Likewise","Instead"], ans:1, explain:"具体化。"},
  {type:'p6', passage:"（同上）", q:"(2)", choices:["If","With","Regarding","For"], ans:3, explain:"For questions。"},
  {type:'p7', title:"Email", passage:`Subject: Receipt Policy
Hi team,
Starting next month, all travel receipts must be uploaded within 5 days of return. Late submissions will not be reimbursed.
Best, Finance`, q:"Late submissions?", choices:["Reimbursed w/ fee","Not reimbursed","Next month","If justified"], ans:1, explain:"will not be reimbursed。"},
  {type:'p7', title:"", passage:"（同上）", q:"When does it start?", choices:["This month","Next month","Next year","Immediately"], ans:1, explain:"Starting next month。"},
  {type:'p7', title:"Poster", passage:`Museum Hours — Summer
Mon–Thu 10–18 / Fri 10–20 / Sat–Sun 9–19`, q:"Open the latest?", choices:["Friday","Saturday","Sunday","Thursday"], ans:0, explain:"Fri 10–20。"},
  {type:'p7', title:"", passage:"（同上）", q:"Weekend opening time?", choices:["10","9","8","11"], ans:1, explain:"Sat–Sun 9–19。"},
  {type:'p7', title:"Chat", passage:`Alex: Printer jam again. Can someone check?
IT: On it. Try switching to Printer B for now.`, q:"Temporary solution?", choices:["Cancel","Use Printer B","Restart PC","Print later"], ans:1, explain:"Use Printer B。"},
  {type:'p7', title:"", passage:"（同上）", q:"Alex's problem?", choices:["No paper","Low ink","Paper jam","Offline"], ans:2, explain:"jam。"}
]
};

// ===== Engine =====
let state = { day:"Day 1", mode:"practice", started:false, idx:0, shown:[], score:0, answered:[], startTime:0, timerId:null };
const daySel = document.getElementById('daySel');
const modeSel = document.getElementById('modeSel');
const qs = document.getElementById('qs');
const prog = document.getElementById('prog');
const score = document.getElementById('score');
const acc = document.getElementById('acc');
const partInfo = document.getElementById('partInfo');
const startBtn = document.getElementById('startBtn');
const resetBtn = document.getElementById('resetBtn');
const nextBtn = document.getElementById('nextBtn');
const prevBtn = document.getElementById('prevBtn');
const finishBtn = document.getElementById('finishBtn');
const timerEl = document.getElementById('timer');

function init(){
  Object.keys(days).forEach(k=>{ const o=document.createElement('option'); o.value=k; o.textContent=k; daySel.appendChild(o); });
  daySel.value=state.day; modeSel.value=state.mode; bind(); renderIntro();
}
function bind(){
  daySel.onchange=()=>{ state.day=daySel.value; resetRun(); renderIntro(); };
  modeSel.onchange=()=>{ state.mode=modeSel.value; };
  startBtn.onclick=()=>startRun();
  resetBtn.onclick=()=>resetRun();
  nextBtn.onclick=()=>nav(1);
  prevBtn.onclick=()=>nav(-1);
  finishBtn.onclick=()=>finish();
}
function renderIntro(){ qs.innerHTML=''; document.getElementById('intro').classList.remove('hidden'); updateFooter(); }
function startRun(){
  state.started=true; state.idx=0; state.score=0;
  state.answered = days[state.day].map(()=>({done:false, correct:false, choice:null}));
  document.getElementById('intro').classList.add('hidden');
  state.startTime=Date.now(); if(state.timerId) clearInterval(state.timerId);
  state.timerId=setInterval(()=>{ const sec=Math.floor((Date.now()-state.startTime)/1000); const mm=String(Math.floor(sec/60)).padStart(2,'0'); const ss=String(sec%60).padStart(2,'0'); timerEl.textContent=`${mm}:${ss}`; },1000);
  render();
}
function resetRun(){ state.started=false; if(state.timerId) clearInterval(state.timerId); timerEl.textContent='00:00'; renderIntro(); }
function nav(d){ if(!state.started) return; const arr=days[state.day]; const n=arr.length; state.idx=Math.max(0,Math.min(n-1,state.idx+d)); render(); }
function updateFooter(){
  const arr=days[state.day]||[]; const n=arr.length; const done = state.answered.filter(x=>x.done).length; const correct = state.answered.filter(x=>x.correct).length;
  prog.textContent = `${Math.min(done,state.started?done:0)} / ${n}`; score.textContent = `正解 ${correct}`; acc.textContent = `正答率 ${done?Math.round(100*correct/done):0}%`;
  const cur = arr[state.idx]; partInfo.textContent = cur?(`Part ${cur.type.toUpperCase().replace('P','')}`):'Part –';
  prevBtn.disabled = !state.started || state.idx===0; nextBtn.disabled = !state.started || state.idx>=n-1;
}
function finish(){
  const arr=days[state.day]||[]; const done = state.answered.filter(x=>x.done).length; const correct = state.answered.filter(x=>x.correct).length; const total=arr.length; const pct = Math.round(100*(correct/Math.max(1,total)));
  alert(`Day Summary\n正解: ${correct} / ${total}\n正答率: ${pct}%\n未解答: ${total-done}`);
  if(state.mode==='test'){ document.querySelectorAll('.ex').forEach(x=>x.classList.remove('hidden')); document.querySelectorAll('.choice input').forEach(i=>i.disabled=true); }
}
function render(){
  const arr=days[state.day]; if(!arr||!arr.length){ qs.innerHTML='<div class="card">この日の問題は未設定です。</div>'; return; }
  const it = arr[state.idx]; qs.innerHTML='';
  const card=document.createElement('div'); card.className='card';
  const head=document.createElement('div'); head.className='meta';
  head.innerHTML = `<span class="tag">Day: ${state.day}</span> <span class="tag">No.${state.idx+1}/${arr.length}</span> <span class="tag">Type: ${it.type.toUpperCase()}</span> ${it.tag?`<span class=\"tag\">${it.tag}</span>`:''}`;
  card.appendChild(head);
  if(it.type==='p6' || it.type==='p7'){
    const pg=document.createElement('div'); pg.className='passage'; pg.textContent = it.passage; if(it.title){ const t=document.createElement('div'); t.className='title'; t.textContent=it.title; card.appendChild(t); } card.appendChild(pg);
  }
  const qt=document.createElement('div'); qt.className='qtext'; qt.textContent = it.q; card.appendChild(qt);
  const ul=document.createElement('div'); ul.className='choices';
  it.choices.forEach((c,i)=>{ const row=document.createElement('label'); row.className='choice'; const inp=document.createElement('input'); inp.type='radio'; inp.name='ch'; inp.value=i; const span=document.createElement('div'); span.textContent=c; row.appendChild(inp); row.appendChild(span); ul.appendChild(row);
    inp.onchange=()=>{ const chosen=Number(inp.value); const correct=(chosen===it.ans); state.answered[state.idx]={done:true, correct, choice:chosen}; if(state.mode==='practice'){ showExplain(correct,it,card,row); } else { row.classList.add(chosen===it.ans?'correct':'wrong'); } updateFooter(); };
  });
  card.appendChild(ul);
  const ex=document.createElement('div'); ex.className='ex hidden'; ex.innerHTML = `<div class="hr"></div><div class="title">解説</div><div>${it.explain}</div>`; card.appendChild(ex);
  const st = state.answered[state.idx]; if(st && st.done){ const inputs=ul.querySelectorAll('input'); if(inputs[st.choice]) inputs[st.choice].checked=true; if(state.mode==='practice'){ showExplain(st.correct,it,card,ul.children[st.choice]); } else { ul.children[st.choice].classList.add(st.choice===it.ans?'correct':'wrong'); } }
  qs.appendChild(card); updateFooter();
}
function showExplain(correct,it,card,row){ card.querySelectorAll('input').forEach(i=>i.disabled=true); if(correct) row.classList.add('correct'); else row.classList.add('wrong'); const ex = card.querySelector('.ex'); ex.classList.remove('hidden'); }
init();
</script>
</body>
</html>
